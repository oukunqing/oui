<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>下拉菜单（多选）</title>
	<style type="text/css">
		
		body {font-size: 14px;}
		select {height:34px;min-width:240px;border:solid 1px #ccc; border-radius:5px;padding:0 5px;margin:0px;}
		input {outline:none;padding:0 5px; border-radius:5px;height:30px;min-width:240px;border:solid 1px #ccc;}
		table {}
		table td {padding:0 10px 10px 0;}
		
	</style>
	<script type="text/javascript" src="../oui/oui.js"></script>
	<script type="text/javascript" src="../oui/dropdownlist/oui.dropdownlist.js"></script>
</head>
<body style="background: #eee;">
<input type="text" />
<br />
<br />
<table cellpadding="0" cellspacing="0">
	<tr>
		<td><select id="DeviceType" style=""></select></td>
		<td><input type="text" id="ServerType" style="" /></td>
	</tr>
	<tr>
		<td><select id="ServerType1" style=""></select></td>
		<td><input type="text" id="ServerType2" style="" /></td>
	</tr>
</table>
<br />
<br />
<div style="height:500px;"></div>
<table cellpadding="0" cellspacing="0">
	<tr>
		<td colspan="3">Grid布局 每行3列</td>
	</tr>
	<tr>
		<td><input type="text" id="ServerType20" style="width:300px;" /></td>
		<td><input type="text" id="ServerType21" style="width:300px;" /></td>
		<td><input type="text" id="ServerType22" style="width:300px;" /></td>
	</tr>
	<tr>
		<td><input type="text" id="ServerType23" style="width:300px;" /></td>
		<td><input type="text" id="ServerType24" style="width:300px;" /></td>
		<td><input type="text" id="ServerType25" style="width:300px;" /></td>
	</tr>
	<tr>
		<td><input type="text" id="ServerType26" style="width:300px;" /></td>
		<td><input type="text" id="ServerType27" style="width:300px;" /></td>
		<td><input type="text" id="ServerType28" style="width:300px;" /></td>
	</tr>
	<tr>
		<td colspan="3">不同的列数布局和不同的按钮数量</td>
	</tr>
	<tr>
		<td><input type="text" id="ServerType30" style="width:300px;" /></td>
		<td><input type="text" id="ServerType31" style="width:300px;" /></td>
		<td><input type="text" id="ServerType32" style="width:300px;" /></td>
	</tr>
	<tr>
		<td><input type="text" id="ServerType33" style="width:300px;" /></td>
		<td><input type="text" id="ServerType34" style="width:300px;" /></td>
		<td><input type="text" id="ServerType35" style="width:300px;" /></td>
	</tr>
	<tr>
		<td><input type="text" id="ServerType36" style="width:300px;" /></td>
		<td><input type="text" id="ServerType37" style="width:300px;" /></td>
		<td><input type="text" id="ServerType38" style="width:300px;" /></td>
	</tr>
</table>
<br />
<br />
<table cellpadding="0" cellspacing="0">
	<tr>
		<td>多选（不可编辑）<br /><input type="text" id="ServerType4" style="" /></td>
		<td>不可编辑<br /><input type="text" id="ServerType50" style="" /></td>
		<td>可编辑但默认不显示（shift + A.5）<br /><select id="ServerType51" style=""></select></td>
		<td>可编辑<br /><select id="ServerType52" style=""></select></td>
	</tr>
	<tr>
		<td>
			<select id="append1" style="">
				<option value="-1">推送图片类型</option>
	            <option value="0">都推送</option>
	            <option value="1" selected="selected">仅推送抓拍图</option>
	            <option value="2">仅推送报警图</option>
	            <option value="3">都不推送</option>
			</select>
	</td>
	</tr>
</table>
<div style="height:500px;"></div>
</body>
</html>
<script type="text/javascript">
window.onload = function() {
	var types = [
		{ id: 4, name: '视频设备', desc: '400万像素高清摄像机' },
		{ id: 2, name: 'DTU设备', desc: '' },
		{ id: 3, name: 'LED设备', desc: 'LED显示屏' },
		{ id: 4, name: '雷达测距设备', desc: '' },
		{ id: 5, name: '传感器设备', desc: '传感器设备' },
		{ id: 4, name: '激光测距设备', desc: '' }
	];
	var k = 'DeviceType';
	$.dropdownlist({
		id: k,
		element: k,
		items: types,
		//single: true,
		value: '2,3',
		//single:true,
		layout: 'list',
		boxWidth: 'follow',
		//select: false,
		//boxStyle: 'border-radius:0px',
		//textWidth: 200,
		itemWidth: '48%',
		itemBorder: true,
		//回调等级：0-选项实时回调，1-全选/反选等按钮事件回调，2-确定按钮事件回调
		//submit: 0,
        callbackLevel: 0,
        callbackDebounce: true,
		title: '选择设备类型',
		//强制显示“确定”按钮
		button: true,
		//是否显示值内容
		display: true,
		//number:true,
		//是否显示选择框，默认：复选显示，单选不显示
		//choose: true,
		//按钮位置： left,center,right
		buttonPosition: 'right',
		callback: function (values, initial, ddl) {
			$.console.log('initial11:', values, initial, ddl);
			getDeviceList();
		}
	});

	$.dropdownlist({
		id: 'ServerType',
		element: 'ServerType',
		items: [
			{ id: 1, name: 'WEB服务', desc: '' },
			{ id: 2, name: '设备服务', desc: '' },
			{ id: 3, name: '图片推送服务', desc: '' },
			{ id: 4, name: '视频设备视频设备视频设备视频设备视频设备', desc: '' },
			{ id: 5, name: '图片采集服务', desc: '' },
			{ id: 6, name: '平台级联服务', desc: '' },
		],
		select: false,
		layout: 'list',
		single: true,
		//value: '5',
		//index: 2,
		//boxWidth: 'follow',
		//textWidth: 200,
		itemWidth: '48%',
		itemBorder: true,
		//回调等级：0-选项实时回调，1-全选/反选等按钮事件回调，2-确定按钮事件回调
		//submit: 0,
        //callbackLevel: 0,
        callbackDebounce: true,
		title: '选择服务类型',
		//按钮位置： left,center,right
		buttonPosition: 'right',
		callback: function (values, initial, ddl) {
			$.console.log('initial22:', values, initial, ddl);
			getDeviceList();
		}
	});

	$.dropdownlist({
		id: 'ServerType1',
		element: 'ServerType1',
		items: [
			{ id: 1, name: 'WEB服务', desc: '' },
			{ id: 2, name: '设备服务', desc: '' },
			{ id: 3, name: '图片推送服务', desc: '' },
			{ id: 4, name: '视频服务', desc: '' },
			{ id: 5, name: '图片采集服务', desc: '' },
			{ id: 6, name: '平台级联服务', desc: '' },
		],
		layout: 'list',
		boxWidth: 'follow',
		single: true,
		//textWidth: 200,
		itemWidth: '48%',
		itemBorder: true,
		//回调等级：0-选项实时回调，1-全选/反选等按钮事件回调，2-确定按钮事件回调
		//submit: 0,
        //callbackLevel: 0,
        callbackDebounce: true,
		title: '选择服务类型',
		//按钮位置： left,center,right
		buttonPosition: 'right',
		callback: function (values, initial, ddl) {
			$.console.log('initial22:', values, initial, ddl);
			getDeviceList();
		}
	});

	//window.setTimeout(function() { $I('ServerType1').val = 3; }, 2000);
	//$I('ServerType1').val = 3;


	$.dropdownlist({
		id: 'ServerType2',
		element: 'ServerType2',
		items: [
			{ id: 1, name: 'WEB服务WEB服务', desc: '' },
			{ id: 2, name: '设备服务', desc: '' },
			{ id: 3, name: '图片推送服务', desc: '' },
			{ id: 4, name: '视频服务', desc: '' },
			{ id: 5, name: '图片采集服务', desc: '' },
			{ id: 6, name: '平台级联服务', desc: '' },
		],
		layout: 'grid',
		//boxWidth: 400,
		boxWidth: 'follow',
		//textWidth: 200,
		//itemWidth: '48%',
		itemWidth: 'cell',
		columns: 2,
		itemBorder: true,
		//回调等级：0-选项实时回调，1-全选/反选等按钮事件回调，2-确定按钮事件回调
		//submit: 0,
        //callbackLevel: 0,
        callbackDebounce: true,
        //是否单选，默认多选
        multi: true,
		title: '选择服务类型',
		//按钮位置： left,center,right
		buttonPosition: 'right',
		callback: function (values, initial, ddl) {
			$.console.log('initial22:', values, initial, ddl);
			getDeviceList();
		}
	});

	var items = [
		{ id: 1, code: 'web', name: 'WEB服务', desc: '' },
		{ id: 2, code: 'device', name: '设备服务', desc: '' },
		{ id: 3, code: 'pic', name: '图片推送服务', desc: '' },
		{ id: 4, code: 'video', name: '视频服务', desc: '高清' },
		{ id: 5, code: 'capture', name: '图片采集服务', desc: '' },
		{ id: 6, code: 'linkage', name: '平台级联服务', desc: '' },
		{ id: 7, code: 'ai', name: '图片分析服务', desc: '' },
		{ id: 8, code: 'alarm', name: '图片报警服务', desc: '' },
		{ id: 9, code: 'measure', name: '雷达扫描测距', desc: '' },
		{ id: 10, code: 'measure1', name: '雷达扫描测距1', desc: '' },
		{ id: 11, code: 'measure2', name: '雷达扫描测距2', desc: '' },
		{ id: 12, code: 'measure3', name: '雷达扫描测距3', desc: '' },
		{ id: 13, code: 'measure4', name: '雷达扫描测距4', desc: '' },
		{ id: 14, code: 'measure5', name: '雷达扫描测距5', desc: '' },
	], len = 9;

	for (var i = 0; i < len; i++) {
		var id = 'ServerType2' + i,
			opts = [].concat(items);

		$.dropdownlist({
			id: id,
			element: id,
			items: opts,
			layout: 'grid',
			boxWidth: i >= len / 2 ? 'follow' : '',
			//textWidth: 200,
			//itemWidth: '48%',
			//itemWidth: i > 5 ? 'auto' : 'cell',
			//itemWidth: '33%',
			//itemWidth: 'cell',
			columns: 3,
			//boxWidth: 400,
			itemBorder: true,
			//回调等级：0-选项实时回调，1-全选/反选等按钮事件回调，2-确定按钮事件回调
			//submit: 0,
	        //callbackLevel: 0,
	        callbackDebounce: true,
	        //是否单选，默认多选
	        multi: true,
	        //是否支持按钮快捷键（默认支持）
	        shortcutKey: true,
	        //是否显示快捷键数字（默认不显示）
	        shortcutNum: true,
			title: '选择服务类型',
			//按钮位置： left,center,right
			buttonPosition: 'right',
			button: i >= 4,
			buttonLimit: i === 1 || i === 4 || i === 7 ? 3 : i === 2 || i === 5 || i === 8 ? 1 : -1,
			callbackLevel: i >= 3 ? 0 : 1,
			callback: function (values, initial, ddl) {
				$.console.log('initial22:', values, initial, ddl);
				getDeviceList();
			}
		});
	}

	for (var i = 0; i < len; i++) {
		var id = 'ServerType3' + i,
			opts = [].concat(items);
		if (i > 7) {
			opts.length = 5;
		}
		$.dropdownlist({
			id: id,
			element: id,
			items: opts,
			//layout: 'list',
			layout: 'grid',
			boxWidth: i >= len / 2 ? 'follow' : '',
			columns: i >= len / 2 ? 0 : 3,
			//editable: true,
	        //single: true,
			itemBorder: true,
	        //是否支持按钮快捷键（默认支持）
	        shortcutKey: true,
	        //是否显示快捷键数字（默认不显示）
	        shortcutNum: true,
			title: '选择服务类型',
			//按钮位置： left,center,right
			buttonPosition: 'right',
			button: i === 4,
			buttonLimit: i === 1 || i === 4 || i === 7 || i === 6 ? 3 : i === 2 || i === 5 || i === 8 ? 1 : -1,
			callbackLevel: i >= 3 && i <= 5 ? 0 : i === 7 ? 2 : 1,
			callback: function (values, initial, ddl) {
				$.console.log('initial33:', values, initial, ddl);
				getDeviceList();
			}
		});
	}

	$I('ServerType30').val = '3,5,6';

	$.dropdownlist({
		id: 'ServerType4',
		element: 'ServerType4',
		items: [
			1,[2,'视频服务'],3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33
		],
		boxWidth: 'follow',
		itemWidth: '48%',
		//maxHeight: 70,
		//maxHeight: 'auto',
		itemBorder: true,
        //callbackLevel: 0,
        callbackDebounce: true,
        //是否单选，默认多选
        multi: true,
        //是否支持按钮快捷键（默认支持）
        shortcutKey: true,
        //是否显示快捷键数字（默认不显示）
        //shortcutNum: true,
		title: '选择服务类型',
		//按钮位置： left,center,right
		buttonPosition: 'right',
		callback: function (values, initial, ddl) {
			$.console.log('initial22:', values, initial, ddl);
			getDeviceList();
		}
	});

	for (var i = 0; i < 3; i++) {
		$.dropdownlist({
			id: 'ServerType5' + i,
			element: 'ServerType5' + i,
			items: [
				1,[2,'Vi'],3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33
			],
			boxWidth: 'follow',
			//itemWidth: '33%',
			itemWidth: 'cell',
			columns: 4,
			textAlign: 'center',
			//maxHeight: 70,
			//maxHeight: 'auto',
			itemBorder: true,
			single: true,
			layout: 'grid',
	        //callbackLevel: 0,
	        callbackDebounce: true,
	        //是否单选，默认多选
	        multi: true,
	        //是否支持按钮快捷键（默认支持）
	        shortcutKey: true,
	        //是否显示快捷键数字（默认不显示）
	        //shortcutNum: true,
			title: '选择服务类型',
			//按钮位置： left,center,right
			buttonPosition: 'right',
			callback: function (values, initial, ddl) {
				$.console.log('initial22:', values, initial, ddl);
				getDeviceList();
			},
			editable: i > 0,
			config: {
				maxlength: 3,
				datatype: 'int',
				show: i > 1,
				min: 5,
				max: 100
			}
		});
	}
	
	$.dropdownlist({
			id: 'append1',
			element: 'append1',
			items: [],
			//append: true,
			boxWidth: 'follow',
			itemWidth: '48%',
			//maxHeight: 70,
			//maxHeight: 'auto',
			itemBorder: true,
			single: true,
	        //callbackLevel: 0,
	        callbackDebounce: true,
	        //是否单选，默认多选
	        multi: true,
	        //是否支持按钮快捷键（默认支持）
	        shortcutKey: true,
	        //是否显示快捷键数字（默认不显示）
	        //shortcutNum: true,
			title: '',
			//按钮位置： left,center,right
			buttonPosition: 'right',
			callback: function (values, initial, ddl) {
				$.console.log('initial22:', values, initial, ddl);
				getDeviceList();
			}
		});
};

function getDeviceList() {

}
</script>