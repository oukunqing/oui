/*
 @Title: oui.omap.js
 @Description：自定义图片地图插件
 @Author: oukunqing
 @License：MIT
*/

eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('!l($){\'2M 2N\';m j={1M:$.2O(T),},v={2d:l(a,b){m c=j.1M,1N=$.2e(c,T),1O=$.2f(c);6($.2P(a,T)){1O+=\'2Q/\'+a+\'/\'}$.2R(1O+1N.2S(\'.2T\',\'\')+\'.2U\',l(){6($.1w(b)){b()}});8 n},1x:l(a){6(X a===\'1P\'||a===1y){8[]}J 6($.2V(a)){8 a}J 6(X a===\'1Q\'){8[a]}J 6(X a===\'2W\'){6(a.17(\',\')>=0){8 a.2g(\',\')}J 6(a.17(\'|\')>=0){8 a.2g(\'|\')}8[a]}8[]},2h:l(a,b,c,d,e,f){m w,h,9,7;6(c>d){w=c>a?a*e:c;h=t(w/c*d,10);6(h>b*e){h=b*e;w=t(h/d*c,10)}}J{h=d>b?b*e:d;w=t(h/d*c,10);6(w>a*e){w=a*e;h=t(w/c*d,10)}}9=t((a-w)/2,10);7=t((b-h)/2,10);m g=v.N(c/d),D=v.N(w/c),Y=v.N(D/e),P=v.N(Y*f);8{q:w,r:h,9:9,7:7,1R:g,D:D,Y:Y,P:P}},1S:l(a,b,c){6($.1T(c)){c=Z.11(\'1z\');c.S=\'H-E-2X\';c.o.9=a.x+\'s\';c.o.7=a.y+\'s\'}J{m d=a.x<b.x||a.y<b.y;6(a.x<b.x&&a.y<b.y){c.o.9=a.x+\'s\';c.o.7=a.y+\'s\'}J 6(a.x>b.x&&a.y>b.y){c.o.9=b.x+\'s\';c.o.7=b.y+\'s\'}J 6(a.x<b.x&&a.y>b.y){c.o.9=a.x+\'s\';c.o.7=a.y-12.18(b.y-a.y)+\'s\'}J 6(a.x>b.x&&a.y<b.y){c.o.9=a.x-12.18(b.x-a.x)+\'s\';c.o.7=a.y+\'s\'}c.o.q=12.18(b.x-a.x)+\'s\';c.o.r=12.18(b.y-a.y)+\'s\'}8 c},1U:l(a,b){6(a.x<b.9){a.x=b.9}J 6(a.x>b.9+b.w){a.x=b.9+b.w}6(a.y<b.7){a.y=b.7}J 6(a.y>b.7+b.h){a.y=b.7+b.h}8 a},1A:l(3){3.u.o.q=3.4.w+\'s\';3.u.o.r=3.4.h+\'s\';3.u.o.9=3.4.9+\'s\';3.u.o.7=3.4.7+\'s\';m a=3.4.q>3.4.A.q||3.4.r>3.4.A.r;8 a},1B:l(a){6(a===1y){8{q:0,r:0,9:0,7:0}}m b=$.1B(a);6(!b.q||!b.r){b.q=t(a.o.q,10);b.r=t(a.o.r,10);b.9=t(a.o.9,10);b.7=t(a.o.7,10)}8 b},N:l(a,b){6(!b){b=2Y}8 12.2Z(a*b)/b}};j.2i=$.2f(j.1M);v.2d();l 1V(a){8 n.1W(a)}1V.30={1W:l(c){m 3=n,z=c,19=Q;6(3.u){3.B.1i(3.u);$.1j(3.z,z);19=T}J{3.z=z}m d=$.31(3.z.B||3.z.33);6(3.z.q){d.o.q=3.z.q+\'s\'}6(3.z.r){d.o.r=3.z.r+\'s\'}d.S+=\' H-E-B\';d.o.1X+=\'34:35;2j:36;\';3.B=d;m e=Z.11(\'2k\');e.S=\'H-E-u H-E-1k H-E-1l\';e.o.1X=\'2j:37;38:0;39:0;\';e.1Y=3.z.u||3.z.3a;3.B.13(e);3.u=e;3.R={};m f=X 3.z.1Z===\'1Q\'?3.z.1Z:1,V=X 3.z.V===\'1Q\'?3.z.V:1,M=$.2l(z.M)?z.M:1;6(f<=0||f>1){f=1}6(V<=0||V>1){V=1}6(M<=0||M>5){M=1}m g=v.1B(3.B);3.1m=Z.11(\'1z\');3.1m.1n=\'正在加载地图，请稍候...\';3.1m.o.1X=\'1o:20;3b-3c:W;3d-r:\'+g.r+\'s;\';3.B.13(3.1m);$.L(e,\'3e\',l(a){$.21(3.1m);m b=v.2h(g.q,g.r,e.2m,e.2n,V,f);1a.1b(\'3f:\',b);3.4={q:e.2m,r:e.2n,1R:b.1R,Y:b.Y,D:b.D,P:b.P,1Z:f,V:V,M:M,w:b.q,h:b.r,9:b.9,7:b.7,x:t(b.q/2+b.9,10),y:t(b.r/2+b.7,10),A:{q:g.q,r:g.r,9:g.9,7:g.7},22:$.2o(3.z.22,T),23:$.2o(3.z.23,Q)};1a.1b(3.4);6(v.1A(3)){6(!19){3.2p().2q()}3.2r().2s().1p().24()}6($.1w(z.14)){z.14(3,3.4)}});8 n},19:l(a){8 n.1W(a)},2q:l(){m 3=n;m a=Z.11(\'1z\');a.S=\'H-E-1p H-E-1l\';$.L(a,\'1C\',l(){3.W()});3.26=a;3.B.13(a);m b=Z.11(\'1z\');b.S=\'H-E-24 H-E-1l\';$.L(b,\'1C\',l(){3.C(3.4.Y).W()});3.1D=b;3.B.13(b);8 n},24:l(a){m 3=n;6(!3.1D||!3.4.23){8 3}6($.1T(a)){m b=[\'&1E;[\',3.4.q,\'×\',3.4.r,\'] \',$.2e(3.u.1Y),\'&1E;\'];3.1D.1n=b.2t(\'\');8 3}3.1D.1n=a||\'\';8 n},1p:l(){m 3=n;6(!3.26||!3.4.22){8 3}m a=v.N(3.4.q/3.4.w,2u);m b=[\'1:\',a];6(a<1){a=v.N(1/a,2u);b=[a,\':1\']}3.26.1n=\'&1E;\'+b.2t(\'\')+\'&1E;\';8 n},3g:l(a){m 3=n;6($.3h(3.B)){3.B.o.q=(a.q||a.w)+\'s\';3.B.o.r=(a.r||a.h)+\'s\';6(3.4){m b=v.1B(3.B);3.4.A={q:b.q,r:b.r,9:b.9,7:b.7}}}8 n},2r:l(){m 3=n;3.u.2v=l(){8 Q};$.L(3.u,\'U\',l(a){6(0==a.2w){1a.1b(\'1k U\',a);$.O(a);3.4.U=T;3.u.3i(a.3j);3.4.1F={x:a.1c,y:a.1d};3.4.1q={x:0,y:0};1a.1b(\'3k:\',3.4.x,3.4.y)}});$.L(3.u,\'2x\',l(a){6(3.4.U){$.O(a);6(a.1G.S.17(\'H-E-u\')<0){8 Q}m b={x:a.1c,y:a.1d};3.4.1q.x=b.x-3.4.1F.x;3.4.1q.y=b.y-3.4.1F.y;3.4.1F={x:b.x,y:b.y};3.4.x+=3.4.1q.x;3.4.y+=3.4.1q.y;m c=3.4.x-3.4.w/2,7=3.4.y-3.4.h/2;3.u.o.9=c+\'s\';3.u.o.7=7+\'s\';3.4.9=c;3.4.7=7;3.1r()}a.1H()});$.L(3.u,\'2y\',l(a){6(3.4.U){$.O(a);6(a.1G.S.17(\'H-E-u\')<0){8 Q}3.4.U=Q}});$.L(3.u,\'2z\',l(a){6(3.4.U){$.O(a);6(a.1G.S.17(\'H-E-u\')<0){8 Q}3.4.U=Q}});8 n},2p:l(){m 3=n;3.B.2v=l(){8 Q};$.L(3.B,\'U\',l(a){6(2==a.2w){$.O(a);1a.1b(\'B U\',a);3.4.1e=T;3.4.1f={x:a.1c-3.4.A.9,y:a.1d-3.4.A.7};m b=v.1S(3.4.1f);3.B.13(b);3.4.1s=b}});$.L(3.B,\'2x\',l(a){6(3.4.1e){$.O(a);3.4.1g={x:a.1c-3.4.A.9,y:a.1d-3.4.A.7};3.4.1s=v.1S(3.4.1f,3.4.1g,3.4.1s)}a.1H()});$.L(3.B,\'2y\',l(a){6(3.4.1e){$.O(a);3.4.1e=Q;m p={x:a.1c-3.4.A.9,y:a.1d-3.4.A.7};3.4.1g=p;3.4.1f=v.1U(3.4.1f,3.4);3.4.1g=v.1U(3.4.1g,3.4);$.21(3.4.1s);3.2A(3.4.1f,3.4.1g)}});$.L(3.B,\'2z\',l(a){6(3.4.1e){$.O(a);$.21(3.4.1s);3.4.1e=Q}});8 n},2A:l(a,b){m 3=n;6(a.x===b.x&&a.y===b.y){8 3}m w=12.18(a.x-b.x),h=12.18(a.y-b.y),2B=a.x>b.x&&a.y>b.y,C=3.4.D,9,7,F,27={x:a.x<b.x?a.x:b.x,y:a.y<b.y?a.y:b.y};6(2B){F=0.5}J 6(w>=h){F=v.N(3.4.A.q/w);6(h*F>3.4.A.r){F=v.N(3.4.A.r/h)}}J{F=v.N(3.4.A.r/h);6(w*F>3.4.A.q){F=v.N(3.4.A.q/w)}}C=F*3.4.D;6(C<3.4.P){C=3.4.P}J 6(C>3.4.M){C=3.4.M}F=C/3.4.D;9=(3.4.9-27.x)*F-(w*F-3.4.A.q)/2;7=(3.4.7-27.y)*F-(h*F-3.4.A.r)/2;3.4.9=t(9,10);3.4.7=t(7,10);8 3.C(C)},C:l(a){m 3=n;6(a<3.4.P){a=3.4.P}J 6(a>3.4.M){a=3.4.M}3.4.D=v.N(a);3.4.w=t(3.4.q*a,10);3.4.h=t(3.4.r*a,10);3.4.x=3.4.9+3.4.w/2;3.4.y=3.4.7+3.4.h/2;v.1A(3);8 n.1p().1r()},28:l(a,b,c){m 3=n,1h=$.3l(b),w=t(3.u.o.q,10),h=t(3.u.o.r,10),9=t(3.u.o.9,10),7=t(3.u.o.7,10),F=$.2l(c)?c:1.1,C=3.4.D;6((!a&&C<=3.4.P)||(a&&C>=3.4.M)){8 n}6(!a){F=1/F}C=v.N(w*F/3.4.q);6(C<3.4.P){C=3.4.P}J 6(C>3.4.M){C=3.4.M}w=t(3.4.q*C,10);h=t(3.4.r*C,10);6(b){m d=b.1G;6(d.S.17(\'H-E-1k\')>=0){3.4.x-=t((F-1)*(b.1c-3.4.x-3.4.A.9),10);3.4.y-=t((F-1)*(b.1d-3.4.y-3.4.A.7),10)}}9=t(3.4.x-w/2,10);7=t(3.4.y-h/2,10);3.4.w=w;3.4.h=h;3.4.9=9;3.4.7=7;3.4.D=C;v.1A(3);8 n.1p().1r()},W:l(a){m 3=n;6($.1T(a)){a={x:t(3.4.w/2,10)/3.4.D,y:t(3.4.h/2,10)/3.4.D};1a.1b(\'z:\',a)}m x=3.4.D*a.x,y=3.4.D*a.y,w=3.4.w,h=3.4.h,2C=3.4.A.q/2,2D=3.4.A.r/2;m b=t(2C-x,10),1I=t(2D-y,10);3.4.9=b;3.4.7=1I;3.4.x=t(b+w/2,10);3.4.y=t(1I+h/2,10);3.u.o.9=b+\'s\';3.u.o.7=1I+\'s\';8 n.1r()},2E:l(){8 n.W(z)},2F:l(){m 3=n;6((3.4.w+3.4.9<=0)||(3.4.h+3.4.7<=0)||(3.4.9>=3.4.A.q)||(3.4.7>=3.4.A.r)){8 T}8 Q},2s:l(){m 3=n;$.L(3.B,\'3m\',l(a){$.O(a);3.28(a.3n<0,a)});$.L(3.B,\'1C\',l(a){$.O(a);6(3.2F()){3.W()}a.1H()});$.L(3.u,\'1C\',l(a){$.O(a);3.28(T,a,1.25);a.1H()});8 n},1t:l(a){8\'I\'+a},1J:l(b){m 3=n;6(X b===\'1P\'||b===1y){8 3}6($.3o(b.29)||!$.2G(b.x)||!$.2G(b.y)){8 3}m c=3.1t(b.29);6(X 3.R[c]!==\'1P\'){6(b.19){3.2a(b.29)}J{8 3}}m d={9:3.4.9+b.x*3.4.D,7:3.4.7+b.y*3.4.D};m e=Z.11(\'2k\'),1K=$.1j({q:32,r:32},b.1K);e.S=\'H-E-I H-E-1k H-E-1l\';e.1Y=b.2b||3.4.2b||(j.2i+\'3p/2b.3q\');e.o.9=(d.9-1K.q/2)+\'s\';e.o.7=(d.7-1K.r)+\'s\';$.L(e,\'2H\',l(a){$.O(a);6($.1w(b.14)){b.14(n,3,b)}});3.B.13(e);m f=1y;6(b.3r){f=Z.11(\'3s\');f.1n=b.1N;f.S=\'H-E-K H-E-1k H-E-1l\';f.o.9=d.9+\'s\';f.o.7=d.7+\'s\';$.L(f,\'2H\',l(a){$.O(a);6($.1w(b.14)){b.14(n,3,b)}});3.B.13(f)}3.R[c]={I:e,K:f,1u:{x:b.x,y:b.y}};6(b.2E||b.W){3.W({x:b.x,y:b.y})}8 n},I:l(a){8 n.1J(a)},3t:l(a){8 n.1J($.1j(a,{19:T}))},1r:l(){m 3=n;1v(m k 2I 3.R){m a=3.R[k],I=a.I,K=a.K,1u=a.1u,1h={9:3.4.9+1u.x*3.4.D,7:3.4.7+1u.y*3.4.D};6(I){I.o.9=(1h.9-16)+\'s\';I.o.7=(1h.7-32)+\'s\'}6(K){K.o.9=1h.9+\'s\';K.o.7=1h.7+\'s\'}}8 n},2J:l(){m 3=n;1v(m k 2I 3.R){m a=3.R[k];6(a.I){a.I.1L.1i(a.I)}6(a.K){a.K.1L.1i(a.K)}}3.R={};8 n},2a:l(a){a=v.1x(a);1v(m i=0;i<a.2c;i++){m b=a[i],15=n.1t(b),G=n.R[15];6(G){6(G.I){G.I.1L.1i(G.I)}6(G.K){G.K.1L.1i(G.K)}2a 3.R[15]}}8 n},3u:l(a){a=v.1x(a);1v(m i=0;i<a.2c;i++){m b=a[i],15=n.1t(b),G=n.R[15];6(G){6(G.I){G.I.o.1o=\'20\'}6(G.K){G.K.o.1o=\'20\'}}}8 n},2K:l(a){a=v.1x(a);1v(m i=0;i<a.2c;i++){m b=a[i],15=n.1t(b),G=n.R[15];6(G){6(G.I){G.I.o.1o=\'2L\'}6(G.K){G.K.o.1o=\'2L\'}}}8 n},3v:l(a){8 n.1J(a)},3w:l(){8 n.2J()},3x:l(a){8 n.2K(a)}};$.1j({E:l(a,b){8 3y 1V($.1j(a,{14:b}))}})}(3z);',62,222,'|||_|cfg||if|top|return|left||||||||||||function|var|this|style||width|height|px|parseInt|img|Factory||||opt|offset|box|scale|curScale|omap|ratio|dr|oui|marker|else|label|addListener|maxScale|setRatio|cancelBubble|minScale|false|markers|className|true|pointerdown|defaultZoom|center|typeof|boxScale|document||createElement|Math|appendChild|callback|key||indexOf|abs|update|console|log|clientX|clientY|selectdown|startpointer|endpointer|pos|removeChild|extend|map|unselect|prompt|innerHTML|display|status|diffpointer|move|selection|buildKey|pointer|for|isFunction|checkIds|null|DIV|setImgSize|getOffsetSize|dblclick|titlebar|nbsp|lastpointer|target|preventDefault|targetTop|buildMarker|iconSize|parentNode|FilePath|name|dir|undefined|number|imgRatio|showRange|isNullOrUndefined|checkRange|Map|initial|cssText|src|minZoom|block|removeElement|showScale|showTitle|title||statusbar|p0|zoom|id|delete|icon|length|loadCss|getFileName|getFilePath|split|getSize|FileDir|position|IMG|isNumber|naturalWidth|naturalHeight|isBoolean|select|control|drag|wheelZoom|join|100|oncontextmenu|button|pointermove|pointerup|pointercancel|rangeScale|small|targetX|targetY|setCenter|outside|isNumeric|click|in|clear|hide|none|use|strict|getScriptSelfPath|isString|skin|loadLinkStyle|replace|min|css|isArray|string|range|10000|round|prototype|toElement||obj|overflow|hidden|relative|absolute|margin|padding|pic|text|align|line|load|size|resize|isElement|setPointerCapture|pointerId|down|getEventPosition|wheel|deltaY|isUndefinedOrNull|imgs|png|showLabel|LABEL|updateMarker|show|showMarker|clearMarker|hideMarker|new|OUI'.split('|'),0,{}))
