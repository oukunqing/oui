/*
 @Title: oui.omap.js
 @Description：自定义图片地图插件
 @Author: oukunqing
 @License：MIT
*/

eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('!7($){\'2O 2P\';9 j={1Q:$.2Q(R),},t={2d:7(a,b){9 c=j.1Q,1R=$.2e(c,R),1S=$.2f(c);6($.2R(a,R)){1S+=\'2S/\'+a+\'/\'}$.2T(1S+1R.2U(\'.2V\',\'\')+\'.2W\',7(){6($.1t(b)){b()}});8 n},1u:7(a){6(1g a===\'1T\'||a===18){8[]}L 6($.2X(a)){8 a}L 6(1g a===\'2Y\'){8[a]}L 6(1g a===\'2Z\'){6(a.19(\',\')>=0){8 a.2g(\',\')}L 6(a.19(\'|\')>=0){8 a.2g(\'|\')}8[a]}8[]},1U:7(a,b,c,d,e,f){9 w,h,m,l;6(c>d){w=c>a?a*e:c;h=r(w/c*d,10);6(h>b*e){h=b*e;w=r(h/d*c,10)}}L{h=d>b?b*e:d;w=r(h/d*c,10);6(w>a*e){w=a*e;h=r(w/c*d,10)}}m=r((a-w)/2,10);l=r((b-h)/2,10);9 g=t.M(c/d),B=t.M(w/c),T=t.M(B/e),J=t.M(T*f);8{p:w,q:h,m:m,l:l,1h:g,B:B,T:T,J:J}},1V:7(a,b,c,d){6($.1W(c)){c=11.12(\'1v\');c.Q=\'E-D-2h\';c.o.m=a.x+\'v\';c.o.l=a.y+\'v\';c.1a=\'<2i 30="E-D-2h-31"></2i>\';d.13(c)}L 6(b){c.o.m=(a.x<b.x?a.x:b.x)+\'v\';c.o.l=(a.y<b.y?a.y:b.y)+\'v\';c.o.p=1i.1w(b.x-a.x)+\'v\';c.o.q=1i.1w(b.y-a.y)+\'v\';c.o.14=\'1x\'}8 c},1X:7(a){a.o.14=\'1Y\';8 a},1Z:7(a,b){6(a.x<b.m){a.x=b.m}L 6(a.x>b.m+b.w){a.x=b.m+b.w}6(a.y<b.l){a.y=b.l}L 6(a.y>b.l+b.h){a.y=b.l+b.h}8 a},1y:7(3){3.u.o.p=3.4.w+\'v\';3.u.o.q=3.4.h+\'v\';3.u.o.m=3.4.m+\'v\';3.u.o.l=3.4.l+\'v\';9 a=3.4.p>3.4.z.p||3.4.q>3.4.z.q;8 a},1z:7(a){6(a===18){8{p:0,q:0,m:0,l:0}}9 b=$.1z(a);6(!b.p||!b.q){b.p=r(\'0\'+a.o.p,10);b.q=r(\'0\'+a.o.q,10);b.m=r(\'0\'+a.o.m,10);b.l=r(\'0\'+a.o.l,10)}8 b},M:7(a,b){6(!b){b=33}8 1i.34(a*b)/b}};j.2j=$.2f(j.1Q);t.2d();7 20(a){8 n.21(a)}20.35={21:7(e){9 3=n,s=e,1b=O;6(3.u){3.A.1j(3.u);$.1k(3.s,s);1b=R}L{3.s=s}9 f=$.36(3.s.A||3.s.37);6(3.s.p){f.o.p=3.s.p+\'v\'}6(3.s.q){f.o.q=3.s.q+\'v\'}f.Q+=\' E-D-A\';f.o.22+=\'38:39;2k:3a;\';3.A=f;9 g=11.12(\'2l\');g.Q=\'E-D-u E-D-1A E-D-1l\';g.o.22=\'2k:3b;3c:0;3d:0;\';g.1B=3.s.u||3.s.3e;3.A.13(g);3.u=g;3.P={};9 h=$.1C(3.s.J||3.s.1D)?(3.s.J||3.s.1D):1,W=$.1C(3.s.2m||3.s.2n||3.s.1E||3.s.W)?(3.s.2m||3.s.2n||3.s.1E||3.s.W):1,U=$.1C(3.s.S||3.s.U)?(3.s.S||3.s.U):1;6(h<=0||h>1){h=1}6(W<=0||W>1){W=1}6(U<=0||U>5){U=1}9 i=t.1z(3.A);3.1m=11.12(\'1v\');3.1m.1a=\'正在加载地图，请稍候...\';3.1m.o.22=\'14:1x;3f-3g:X;3h-q:\'+i.q+\'v;\';3.A.13(3.1m);$.K(g,\'3i\',7(c){$.3j(3.1m);9 d=t.1U(i.p,i.q,g.2o,g.2p,W,h);3k.3l(\'3m:\',d);3.4={2q:3.u.1B,p:g.2o,q:g.2p,1h:d.1h,T:d.T,B:d.B,J:d.J,S:U,1D:h,1E:W,U:U,w:d.p,h:d.q,m:d.m,l:d.l,x:r(d.p/2+d.m,10),y:r(d.q/2+d.l,10),z:{p:i.p,q:i.q,m:i.m,l:i.l},23:$.2r(3.s.23,R),24:$.2r(3.s.24,O)};t.1y(3);6(!1b){3.2s().2t()}3.2u().2v().1n().1F();$.3n(3.4.2q,7(a){9 b=a>=0?a.3o(2):\'\';3.1F(18,b)});6($.1t(s.15)){s.15(3,3.4)}});8 n},1b:7(a){8 n.21(a)},2t:7(){9 3=n;9 a=11.12(\'1v\');a.Q=\'E-D-1n E-D-1l\';$.K(a,\'1G\',7(){3.X()});3.26=a;3.A.13(a);9 b=11.12(\'1v\');b.Q=\'E-D-1F E-D-1l\';$.K(b,\'1G\',7(){3.C(3.4.T).X()});3.1H=b;3.A.13(b);8 n},1F:7(a,b){9 3=n;6(!3.1H||!3.4.24){8 3}6($.1W(a)){9 c=[\'&1I;\',\'[\',3.4.p,\'×\',3.4.q,\'] \',(b?\'[\'+b+\'] \':\'\'),$.2e(3.u.1B),\'&1I;\'];3.1H.1a=c.2w(\'\');8 3}3.1H.1a=a||\'\';8 n},1n:7(){9 3=n;6(!3.26||!3.4.23){8 3}9 a=t.M(3.4.p/3.4.w,2x);9 b=[\'1:\',a];6(a<1){a=t.M(1/a,2x);b=[a,\':1\']}3.26.1a=\'&1I;\'+b.2w(\'\')+\'&1I;\';8 n},3p:7(a){9 3=n;6($.3q(3.A)){3.A.o.p=(a.p||a.w)+\'v\';3.A.o.q=(a.q||a.h)+\'v\';6(3.4){9 b=t.1z(3.A);3.4.z={p:b.p,q:b.q,m:b.m,l:b.l};9 a=t.1U(b.p,b.q,3.4.p,3.4.q,3.4.1E,3.4.1D);3.4.1h=a.1h;3.4.T=a.T;3.4.B=a.B;3.4.J=a.J}}8 n},2u:7(){9 3=n;3.u.2y=7(){8 O};$.K(3.u,\'Y\',7(a){6(0==a.2z){$.N(a);3.4.Y=R;3.u.3r(a.3s);3.4.1J=$.1c(a);3.4.1o={x:0,y:0}}});$.K(3.u,\'2A\',7(a){6(3.4.Y){$.N(a);6(a.1K.Q.19(\'E-D-u\')<0){8 O}9 b=$.1c(a);3.4.1o.x=b.x-3.4.1J.x;3.4.1o.y=b.y-3.4.1J.y;3.4.1J={x:b.x,y:b.y};3.4.x+=3.4.1o.x;3.4.y+=3.4.1o.y;9 c=3.4.x-3.4.w/2,l=3.4.y-3.4.h/2;3.u.o.m=c+\'v\';3.u.o.l=l+\'v\';3.4.m=c;3.4.l=l;3.1p()}a.1L()});$.K(3.u,\'2B\',7(a){6(3.4.Y){$.N(a);6(a.1K.Q.19(\'E-D-u\')<0){8 O}3.4.Y=O}});$.K(3.u,\'2C\',7(a){6(3.4.Y){$.N(a);6(a.1K.Q.19(\'E-D-u\')<0){8 O}3.4.Y=O}});8 n},2s:7(){9 3=n;3.A.2y=7(){8 O};$.K(3.A,\'Y\',7(a){6(2==a.2z){$.N(a);9 b=$.1c(a);3.4.1d=R;3.4.1e={x:b.x-3.4.z.m,y:b.y-3.4.z.l};3.4.Z=t.1V(3.4.1e,18,3.4.Z,3.A)}});$.K(3.A,\'2A\',7(a){6(3.4.1d){$.N(a);9 b=$.1c(a);3.4.1f={x:b.x-3.4.z.m,y:b.y-3.4.z.l};3.4.Z=t.1V(3.4.1e,3.4.1f,3.4.Z,3.A)}a.1L()});$.K(3.A,\'2B\',7(a){6(3.4.1d){$.N(a);9 b=$.1c(a);3.4.1d=O;3.4.1f={x:b.x-3.4.z.m,y:b.y-3.4.z.l};3.4.1e=t.1Z(3.4.1e,3.4);3.4.1f=t.1Z(3.4.1f,3.4);3.4.Z=t.1X(3.4.Z);3.2D(3.4.1e,3.4.1f)}});$.K(3.A,\'2C\',7(a){6(3.4.1d){$.N(a);3.4.Z=t.1X(3.4.Z);3.4.1d=O}});8 n},2D:7(a,b){9 3=n;6(a.x===b.x&&a.y===b.y){8 3}9 w=1i.1w(a.x-b.x),h=1i.1w(a.y-b.y),2E=a.x>b.x&&a.y>b.y,C=3.4.B,m,l,F,27={x:a.x<b.x?a.x:b.x,y:a.y<b.y?a.y:b.y};6(2E){F=0.5}L 6(w>=h){F=t.M(3.4.z.p/w);6(h*F>3.4.z.q){F=t.M(3.4.z.q/h)}}L{F=t.M(3.4.z.q/h);6(w*F>3.4.z.p){F=t.M(3.4.z.p/w)}}C=F*3.4.B;6(C<3.4.J){C=3.4.J}L 6(C>3.4.S){C=3.4.S}F=C/3.4.B;m=(3.4.m-27.x)*F-(w*F-3.4.z.p)/2;l=(3.4.l-27.y)*F-(h*F-3.4.z.q)/2;3.4.m=r(m,10);3.4.l=r(l,10);8 3.C(C)},C:7(a){9 3=n;6(a<3.4.J){a=3.4.J}L 6(a>3.4.S){a=3.4.S}3.4.B=t.M(a);3.4.w=r(3.4.p*a,10);3.4.h=r(3.4.q*a,10);3.4.x=r(3.4.m+3.4.w/2,10);3.4.y=r(3.4.l+3.4.h/2,10);t.1y(3);8 n.1n().1p()},28:7(a,b,c){9 3=n,V=$.3t(b),w=r(3.u.o.p,10),h=r(3.u.o.q,10),m=r(3.u.o.m,10),l=r(3.u.o.l,10),F=$.1C(c)?c:1.1,C=3.4.B;6((!a&&C<=3.4.J)||(a&&C>=3.4.S)){8 n}6(!a){F=1/F}C=t.M(w*F/3.4.p);6(C<3.4.J){C=3.4.J}L 6(C>3.4.S){C=3.4.S}w=r(3.4.p*C,10);h=r(3.4.q*C,10);6(b){9 d=b.1K,V=$.1c(b);6(d.Q.19(\'E-D-1A\')>=0){3.4.x-=r((F-1)*(V.x-3.4.x-3.4.z.m),10);3.4.y-=r((F-1)*(V.y-3.4.y-3.4.z.l),10)}}m=r(3.4.x-w/2,10);l=r(3.4.y-h/2,10);3.4.w=w;3.4.h=h;3.4.m=m;3.4.l=l;3.4.B=C;t.1y(3);8 n.1n().1p()},X:7(a){9 3=n;6($.1W(a)){a={x:r(3.4.w/2,10)/3.4.B,y:r(3.4.h/2,10)/3.4.B}}9 x=3.4.B*a.x,y=3.4.B*a.y,w=3.4.w,h=3.4.h,2F=3.4.z.p/2,2G=3.4.z.q/2;9 b=r(2F-x,10),1M=r(2G-y,10);3.4.m=b;3.4.l=1M;3.4.x=r(b+w/2,10);3.4.y=r(1M+h/2,10);3.u.o.m=b+\'v\';3.u.o.l=1M+\'v\';8 n.1p()},2H:7(){8 n.X(s)},2I:7(){9 3=n;6((3.4.w+3.4.m<=0)||(3.4.h+3.4.l<=0)||(3.4.m>=3.4.z.p)||(3.4.l>=3.4.z.q)){8 R}8 O},2v:7(){9 3=n;$.K(3.A,\'3u\',7(a){$.N(a);3.28(a.3v<0,a)});$.K(3.A,\'1G\',7(a){$.N(a);6(3.2I()){3.X()}a.1L()});$.K(3.u,\'1G\',7(a){$.N(a);3.28(R,a,1.25);a.1L()});8 n},1q:7(a){8\'H\'+a},1N:7(b){9 3=n;6(1g b===\'1T\'||b===18){8 3}6($.3w(b.29)||!$.2J(b.x)||!$.2J(b.y)){8 3}9 c=3.1q(b.29);6(1g 3.P[c]!==\'1T\'){6(b.1b){3.2a(b.29)}L{8 3}}9 d={m:3.4.m+b.x*3.4.B,l:3.4.l+b.y*3.4.B};9 e=11.12(\'2l\'),1O=$.1k({p:32,q:32},b.1O);e.Q=\'E-D-H E-D-1A E-D-1l\';e.1B=b.2b||3.4.2b||(j.2j+\'3x/2b.3y\');e.o.m=(d.m-1O.p/2)+\'v\';e.o.l=(d.l-1O.q)+\'v\';$.K(e,\'2K\',7(a){$.N(a);6($.1t(b.15)){b.15(n,3,b)}});3.A.13(e);9 f=18;6(b.3z){f=11.12(\'3A\');f.1a=b.1R;f.Q=\'E-D-I E-D-1A E-D-1l\';f.o.m=d.m+\'v\';f.o.l=d.l+\'v\';$.K(f,\'2K\',7(a){$.N(a);6($.1t(b.15)){b.15(n,3,b)}});3.A.13(f)}3.P[c]={H:e,I:f,1r:{x:b.x,y:b.y}};6(b.2H||b.X){3.X({x:b.x,y:b.y})}8 n},H:7(a){8 n.1N(a)},3B:7(a){8 n.1N($.1k(a,{1b:R}))},1p:7(){9 3=n;1s(9 k 2L 3.P){9 a=3.P[k],H=a.H,I=a.I,1r=a.1r,V={m:3.4.m+1r.x*3.4.B,l:3.4.l+1r.y*3.4.B};6(H){H.o.m=(V.m-16)+\'v\';H.o.l=(V.l-32)+\'v\'}6(I){I.o.m=V.m+\'v\';I.o.l=V.l+\'v\'}}8 n},2M:7(){9 3=n;1s(9 k 2L 3.P){9 a=3.P[k];6(a.H){a.H.1P.1j(a.H)}6(a.I){a.I.1P.1j(a.I)}}3.P={};8 n},2a:7(a){a=t.1u(a);1s(9 i=0;i<a.2c;i++){9 b=a[i],17=n.1q(b),G=n.P[17];6(G){6(G.H){G.H.1P.1j(G.H)}6(G.I){G.I.1P.1j(G.I)}2a 3.P[17]}}8 n},3C:7(a){a=t.1u(a);1s(9 i=0;i<a.2c;i++){9 b=a[i],17=n.1q(b),G=n.P[17];6(G){6(G.H){G.H.o.14=\'1x\'}6(G.I){G.I.o.14=\'1x\'}}}8 n},2N:7(a){a=t.1u(a);1s(9 i=0;i<a.2c;i++){9 b=a[i],17=n.1q(b),G=n.P[17];6(G){6(G.H){G.H.o.14=\'1Y\'}6(G.I){G.I.o.14=\'1Y\'}}}8 n},3D:7(a){8 n.1N(a)},3E:7(){8 n.2M()},3F:7(a){8 n.2N(a)}};$.1k({D:7(a,b){8 3G 20($.1k(a,{15:b}))}})}(3H);',62,230,'|||_|cfg||if|function|return|var||||||||||||top|left|this|style|width|height|parseInt|opt|Factory|img|px||||offset|box|curScale|scale|omap|oui|ratio|dr|marker|label|minScale|addListener|else|setRatio|cancelBubble|false|markers|className|true|maxScale|boxScale|maxZoom|pos|defZoom|center|pointerdown|selection||document|createElement|appendChild|display|callback||key|null|indexOf|innerHTML|update|getEventPos|selectdown|startpointer|endpointer|typeof|imgRatio|Math|removeChild|extend|unselect|prompt|status|diffpointer|move|buildKey|pointer|for|isFunction|checkIds|DIV|abs|block|setImgSize|getOffsetSize|map|src|isNumber|minZoom|defaultZoom|title|dblclick|titlebar|nbsp|lastpointer|target|preventDefault|targetTop|buildMarker|iconSize|parentNode|FilePath|name|dir|undefined|getSize|showRange|isNullOrUndefined|hideRange|none|checkRange|Map|initial|cssText|showScale|showTitle||statusbar|p0|zoom|id|delete|icon|length|loadCss|getFileName|getFilePath|split|range|div|FileDir|position|IMG|defaultScale|defScale|naturalWidth|naturalHeight|filePath|isBoolean|select|control|drag|wheelZoom|join|100|oncontextmenu|button|pointermove|pointerup|pointercancel|rangeScale|small|targetX|targetY|setCenter|outside|isNumeric|click|in|clear|hide|use|strict|getScriptSelfPath|isString|skin|loadLinkStyle|replace|min|css|isArray|number|string|class|panel||10000|round|prototype|toElement|obj|overflow|hidden|relative|absolute|margin|padding|pic|text|align|line|load|removeElement|console|log|size|getFileSize|toFileSize|resize|isElement|setPointerCapture|pointerId|getEventPosition|wheel|deltaY|isUndefinedOrNull|imgs|png|showLabel|LABEL|updateMarker|show|showMarker|clearMarker|hideMarker|new|OUI'.split('|'),0,{}))
