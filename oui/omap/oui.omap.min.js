/*
 @Title: oui.omap.js
 @Description：自定义图片地图插件
 @Author: oukunqing
 @License：MIT
*/

eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('!m($){\'2z 2A\';l j={1H:$.2B(R),},I={23:m(a,b){l c=j.1H,1I=$.2C(c,R),1J=$.24(c);6($.2D(a,R)){1J+=\'2E/\'+a+\'/\'}$.2F(1J+1I.2G(\'.2H\',\'\')+\'.2I\',m(){6($.1s(b)){b()}});9 n},25:m(a,b,c,d,e){l w,h,8,7;6(c>d){w=c>a?a*e:c;h=z(w/c*d,10)}E{h=d>b?b*e:d;w=z(h/d*c,10)}8=z((a-w)/2,10);7=z((b-h)/2,10);9{q:w,r:h,8:8,7:7}},1t:m(a){6(U a===\'1K\'||a===1u){9[]}E 6($.2J(a)){9 a}E 6(U a===\'1L\'){9[a]}E 6(U a===\'2K\'){6(a.Z(\',\')>=0){9 a.26(\',\')}E 6(a.Z(\'|\')>=0){9 a.26(\'|\')}9[a]}9[]},1M:m(a,b,c){6($.27(c)){c=11.12(\'1N\');c.O=\'G-F-2L\';c.o.8=a.x+\'s\';c.o.7=a.y+\'s\'}E{l d=a.x<b.x||a.y<b.y;6(a.x<b.x&&a.y<b.y){c.o.8=a.x+\'s\';c.o.7=a.y+\'s\'}E 6(a.x>b.x&&a.y>b.y){c.o.8=b.x+\'s\';c.o.7=b.y+\'s\'}E 6(a.x<b.x&&a.y>b.y){c.o.8=a.x+\'s\';c.o.7=a.y-T.13(b.y-a.y)+\'s\'}E 6(a.x>b.x&&a.y<b.y){c.o.8=a.x-T.13(b.x-a.x)+\'s\';c.o.7=a.y+\'s\'}c.o.q=T.13(b.x-a.x)+\'s\';c.o.r=T.13(b.y-a.y)+\'s\'}9 c},1O:m(a,b){6(a.x<b.8){a.x=b.8}E 6(a.x>b.8+b.w){a.x=b.8+b.w}6(a.y<b.7){a.y=b.7}E 6(a.y>b.7+b.h){a.y=b.7+b.h}9 a},1v:m(3){3.v.o.q=3.4.w+\'s\';3.v.o.r=3.4.h+\'s\';3.v.o.8=3.4.8+\'s\';3.v.o.7=3.4.7+\'s\';l a=3.4.q>3.4.u.q||3.4.r>3.4.u.r;9 a},1w:m(a){6(a===1u){9{q:0,r:0,8:0,7:0}}l b=$.1w(a);6(!b.q||!b.r){b.q=z(a.o.q,10);b.r=z(a.o.r,10);b.8=z(a.o.8,10);b.7=z(a.o.7,10)}9 b}};j.28=$.24(j.1H);I.23();m 1P(a){9 n.1Q(a)}1P.2M={1Q:m(c){l 3=n,t=c,14=K;6(3.v){3.A.1d(3.v);$.1e(3.t,t);14=R}E{3.t=t}l d=$.2N(3.t.A||3.t.2O);6(3.t.q){d.o.q=3.t.q+\'s\'}6(3.t.r){d.o.r=3.t.r+\'s\'}d.O+=\' G-F-A\';d.o.1R+=\'2P:2Q;29:2R;\';3.A=d;l e=11.12(\'2a\');e.O=\'G-F-v G-F-1f G-F-1x\';e.o.1R=\'29:2S;2T:0;2U:0;\';e.2b=3.t.v||3.t.2V;3.A.15(e);3.v=e;3.t=t;3.M={};l f=U 3.t.N===\'1L\'?3.t.N:1,S=U 3.t.S===\'1L\'?3.t.S:1;6(f<=0||f>1){f=1}6(S<=0||S>1){S=1}l g=I.1w(3.A);3.1g=11.12(\'1N\');3.1g.1S=\'正在加载地图，请稍候...\';3.1g.o.1R=\'1h:1T;2W-2X:V;2Y-r:\'+g.r+\'s;\';3.A.15(3.1g);$.J(e,\'2Z\',m(a){$.1U(3.1g);l b=I.25(g.q,g.r,e.1y,e.1V,S);3.4={q:e.1y,r:e.1V,2c:e.1y/e.1V,N:f,S:S,w:b.q,h:b.r,8:b.8,7:b.7,x:z(b.q/2+b.8,10),y:z(b.r/2+b.7,10),B:b.q/e.1y,u:{q:g.q,r:g.r,8:g.8,7:g.7},1i:t.1i||\'\'};1j.1k(3.4);6(I.1v(3)){3.2d().2e().1z();6(!14){3.2f().2g()}}6($.1s(t.W)){t.W(3,3.4)}});9 n},14:m(a){9 n.1Q(a)},2g:m(){l 3=n;l a=11.12(\'1N\');a.O=\'G-F-1z G-F-1x\';$.J(a,\'1W\',m(){3.V()});3.1X=a;3.A.15(a);9 n},1z:m(){6(!n.1X){9 n}l a=T.2h(n.4.q/n.4.w*X)/X;l b=[\'1:\',a];n.1X.1S=b.30(\'\');9 n},31:m(a){l 3=n;6($.33(3.A)){3.A.o.q=(a.q||a.w)+\'s\';3.A.o.r=(a.r||a.h)+\'s\';6(3.4){l b=I.1w(3.A);3.4.u={q:b.q,r:b.r,8:b.8,7:b.7}}}9 n},2d:m(){l 3=n;3.v.2i=m(){9 K};$.J(3.v,\'P\',m(a){6(0==a.2j){1j.1k(\'1f P\',a);$.L(a);3.4.P=R;3.v.34(a.35);3.4.1A={x:a.17,y:a.18};3.4.1l={x:0,y:0};1j.1k(\'36:\',3.4.x,3.4.y)}});$.J(3.v,\'2k\',m(a){6(3.4.P){$.L(a);6(a.1B.O.Z(\'G-F-v\')<0){9 K}l b={x:a.17,y:a.18};3.4.1l.x=b.x-3.4.1A.x;3.4.1l.y=b.y-3.4.1A.y;3.4.1A={x:b.x,y:b.y};3.4.x+=3.4.1l.x;3.4.y+=3.4.1l.y;l c=3.4.x-3.4.w/2,7=3.4.y-3.4.h/2;3.v.o.8=c+\'s\';3.v.o.7=7+\'s\';3.4.8=c;3.4.7=7;3.1m()}a.1C()});$.J(3.v,\'2l\',m(a){6(3.4.P){$.L(a);6(a.1B.O.Z(\'G-F-v\')<0){9 K}3.4.P=K}});$.J(3.v,\'2m\',m(a){6(3.4.P){$.L(a);6(a.1B.O.Z(\'G-F-v\')<0){9 K}3.4.P=K}});9 n},2f:m(){l 3=n;3.A.2i=m(){9 K};$.J(3.A,\'P\',m(a){6(2==a.2j){$.L(a);1j.1k(\'A P\',a);3.4.19=R;3.4.1a={x:a.17-3.4.u.8,y:a.18-3.4.u.7};l b=I.1M(3.4.1a);3.A.15(b);3.4.1n=b}});$.J(3.A,\'2k\',m(a){6(3.4.19){$.L(a);3.4.1b={x:a.17-3.4.u.8,y:a.18-3.4.u.7};3.4.1n=I.1M(3.4.1a,3.4.1b,3.4.1n)}a.1C()});$.J(3.A,\'2l\',m(a){6(3.4.19){$.L(a);3.4.19=K;l p={x:a.17-3.4.u.8,y:a.18-3.4.u.7};3.4.1b=p;3.4.1a=I.1O(3.4.1a,3.4);3.4.1b=I.1O(3.4.1b,3.4);$.1U(3.4.1n);3.2n(3.4.1a,3.4.1b)}});$.J(3.A,\'2m\',m(a){6(3.4.19){$.L(a);$.1U(3.4.1n);3.4.19=K}});9 n},2n:m(a,b){l 3=n;6(a.x===b.x&&a.y===b.y){9 3}l w=T.13(a.x-b.x),h=T.13(a.y-b.y),2o=a.x>b.x&&a.y>b.y,Q=3.4.B,8,7,1Y={x:a.x<b.x?a.x:b.x,y:a.y<b.y?a.y:b.y};6(!2o){l c=T.2h((w>h?(3.4.u.q)/w:(3.4.u.r)/h)*X)/X;Q=c*3.4.B;6(Q>1){Q=1;c=Q/3.4.B}}E{c=0.5;Q=c*3.4.B;l d=3.4.u.q*3.4.N/3.4.q;6(Q<d){Q=d;c=Q/3.4.B}}6(c===1){8=3.4.8+(3.4.u.q-b.x-a.x)/2;7=3.4.7+(3.4.u.r-b.y-a.y)/2}E{8=(3.4.8-1Y.x)*c-(w*c-3.4.u.q)/2;7=(3.4.7-1Y.y)*c-(h*c-3.4.u.r)/2}3.4.8=8;3.4.7=7;9 3.B(Q)},B:m(a){l 3=n;6(a<0||a>1){a=1}3.4.B=a;3.4.w=z(3.4.q*a,10);3.4.h=z(3.4.r*a,10);3.4.x=3.4.8+3.4.w/2;3.4.y=3.4.7+3.4.h/2;I.1v(3);9 3.1m()},1Z:m(a,b){l 3=n,1c=$.37(b),w=z(3.v.o.q,10),h=z(3.v.o.r,10),8=z(3.v.o.8,10),7=z(3.v.o.7,10),1o=1.1,B=z(w*X/3.4.q,10);6(!a){1o=1/1.1;6(3.t.N>1){3.t.N=1}6(3.4.2c>=1){l c=3.4.u.q;6(3.4.q<3.4.u.q){c=3.4.q}6(3.t.N>0&&3.t.N<1){c=z(3.4.u.q*3.t.N,10)}6(w<=c){9 K}}E{l d=3.4.u.r;6(3.4.r<3.4.u.r){d=3.4.r}E 6(3.t.N>0&&3.t.N<1){d=z(3.4.u.r*3.t.N,10)}6(h<=d){9 K}}}E 6(B>=X){B=X;9 K}w*=1o;h=w/3.4.q*3.4.r;6(b){l e=b.1B;6(e.O.Z(\'G-F-1f\')>=0){3.4.x-=(1o-1)*(b.17-3.4.x-3.4.u.8);3.4.y-=(1o-1)*(b.18-3.4.y-3.4.u.7)}}B=w/3.4.q;8=z(3.4.x-w/2,10);7=z(3.4.y-h/2,10);3.4.w=w;3.4.h=h;3.4.8=8;3.4.7=7;3.4.B=B;I.1v(3);9 3.1z().1m()},V:m(a){l 3=n;6($.27(a)){a={x:z(3.4.w/2,10)/3.4.B,y:z(3.4.h/2,10)/3.4.B};1j.1k(\'t:\',a)}l x=3.4.B*a.x,y=3.4.B*a.y,w=3.4.w,h=3.4.h,2p=3.4.u.q/2,2q=3.4.u.r/2;l b=2p-x,1D=2q-y;3.4.8=b;3.4.7=1D;3.4.x=b+w/2;3.4.y=1D+h/2;3.v.o.8=b+\'s\';3.v.o.7=1D+\'s\';9 3.1m()},2r:m(){9 n.V(t)},2s:m(){l 3=n;6((3.4.w+3.4.8<=0)||(3.4.h+3.4.7<=0)||(3.4.8>=3.4.u.q)||(3.4.7>=3.4.u.r)){9 R}9 K},2e:m(){l 3=n;$.J(3.A,\'38\',m(a){$.L(a);3.1Z(a.39<0,a)});$.J(3.A,\'1W\',m(a){$.L(a);6(3.2s()){3.V()}a.1C()});$.J(3.v,\'1W\',m(a){$.L(a);3.1Z(R,a);a.1C()});9 n},1p:m(a){9\'D\'+a},1E:m(b){l 3=n;6(U b===\'1K\'||b===1u){9 3}6($.3a(b.20)||!$.2t(b.x)||!$.2t(b.y)){9 3}l c=3.1p(b.20);6(U 3.M[c]!==\'1K\'){6(b.14){3.21(b.20)}E{9 3}}l d={8:3.4.8+b.x*3.4.B,7:3.4.7+b.y*3.4.B};l e=11.12(\'2a\'),1F=$.1e({q:32,r:32},b.1F);e.O=\'G-F-D G-F-1f G-F-1x\';e.2b=b.1i||3.4.1i||(j.28+\'3b/1i.3c\');e.o.8=(d.8-1F.q/2)+\'s\';e.o.7=(d.7-1F.r)+\'s\';$.J(e,\'2u\',m(a){$.L(a);6($.1s(b.W)){b.W(n,3,b)}});3.A.15(e);l f=1u;6(b.3d){f=11.12(\'3e\');f.1S=b.1I;f.O=\'G-F-H G-F-1f G-F-1x\';f.o.8=d.8+\'s\';f.o.7=d.7+\'s\';$.J(f,\'2u\',m(a){$.L(a);6($.1s(b.W)){b.W(n,3,b)}});3.A.15(f)}3.M[c]={D:e,H:f,1q:{x:b.x,y:b.y}};6(b.2r||b.V){3.V({x:b.x,y:b.y})}9 n},D:m(a){9 n.1E(a)},3f:m(a){9 n.1E($.1e(a,{14:R}))},1m:m(){l 3=n;1r(l k 2v 3.M){l a=3.M[k],D=a.D,H=a.H,1q=a.1q,1c={8:3.4.8+1q.x*3.4.B,7:3.4.7+1q.y*3.4.B};6(D){D.o.8=(1c.8-16)+\'s\';D.o.7=(1c.7-32)+\'s\'}6(H){H.o.8=1c.8+\'s\';H.o.7=1c.7+\'s\'}}9 n},2w:m(){l 3=n;1r(l k 2v 3.M){l a=3.M[k];6(a.D){a.D.1G.1d(a.D)}6(a.H){a.H.1G.1d(a.H)}}3.M={};9 n},21:m(a){a=I.1t(a);1r(l i=0;i<a.22;i++){l b=a[i],Y=n.1p(b),C=n.M[Y];6(C){6(C.D){C.D.1G.1d(C.D)}6(C.H){C.H.1G.1d(C.H)}21 3.M[Y]}}9 n},3g:m(a){a=I.1t(a);1r(l i=0;i<a.22;i++){l b=a[i],Y=n.1p(b),C=n.M[Y];6(C){6(C.D){C.D.o.1h=\'1T\'}6(C.H){C.H.o.1h=\'1T\'}}}9 n},2x:m(a){a=I.1t(a);1r(l i=0;i<a.22;i++){l b=a[i],Y=n.1p(b),C=n.M[Y];6(C){6(C.D){C.D.o.1h=\'2y\'}6(C.H){C.H.o.1h=\'2y\'}}}9 n},3h:m(a){9 n.1E(a)},3i:m(){9 n.2w()},3j:m(a){9 n.2x(a)}};$.1e({F:m(a,b){9 3k 1P($.1e(a,{W:b}))}})}(3l);',62,208,'|||_|cfg||if|top|left|return||||||||||||var|function|this|style||width|height|px|opt|offset|img||||parseInt|box|scale|dr|marker|else|omap|oui|label|Factory|addListener|false|cancelBubble|markers|minZoom|className|pointerdown|imgRatio|true|defaultZoom|Math|typeof|center|callback|100|key|indexOf||document|createElement|abs|update|appendChild||clientX|clientY|selectdown|startpointer|endpointer|pos|removeChild|extend|map|prompt|display|icon|console|log|diffpointer|move|selection|ratio|buildKey|pointer|for|isFunction|checkIds|null|setImgSize|getOffsetSize|unselect|naturalWidth|status|lastpointer|target|preventDefault|targetTop|buildMarker|iconSize|parentNode|FilePath|name|dir|undefined|number|showRange|DIV|checkRange|Map|initial|cssText|innerHTML|block|removeElement|naturalHeight|dblclick|statusbar|p0|zoom|id|delete|length|loadCss|getFilePath|getSize|split|isNullOrUndefined|FileDir|position|IMG|src|sizeRatio|drag|wheelZoom|select|control|round|oncontextmenu|button|pointermove|pointerup|pointercancel|rangeScale|small|targetX|targetY|setCenter|outside|isNumeric|click|in|clear|hide|none|use|strict|getScriptSelfPath|getFileName|isString|skin|loadLinkStyle|replace|min|css|isArray|string|range|prototype|toElement|obj|overflow|hidden|relative|absolute|margin|padding|pic|text|align|line|load|join|resize||isElement|setPointerCapture|pointerId|down|getEventPosition|wheel|deltaY|isUndefinedOrNull|imgs|png|showLabel|LABEL|updateMarker|show|showMarker|clearMarker|hideMarker|new|OUI'.split('|'),0,{}))
