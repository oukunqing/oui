/*
 @Title: oui.omap.js
 @Description：自定义图片地图插件
 @Author: oukunqing
 @License：MIT
*/

eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('!9($){\'2R 2S\';7 j={1S:$.2T(S),},z={2f:9(a,b){7 c=j.1S,1T=$.2g(c,S),1U=$.2h(c);6($.2U(a,S)){1U+=\'2V/\'+a+\'/\'}$.2W(1U+1T.2X(\'.2Y\',\'\')+\'.2Z\',9(){6($.1y(b)){b()}});l n},1z:9(a){6(1g a===\'1V\'||a===1h){l[]}J 6($.30(a)){l a}J 6(1g a===\'31\'){l[a]}J 6(1g a===\'33\'){6(a.18(\',\')>=0){l a.2i(\',\')}J 6(a.18(\'|\')>=0){l a.2i(\'|\')}l[a]}l[]},1W:9(a,b,c,d,e,f){7 w,h,m,8;6(c>d){w=c>a?a*e:c;h=u(w/c*d,10);6(h>b*e){h=b*e;w=u(h/d*c,10)}}J{h=d>b?b*e:d;w=u(h/d*c,10);6(w>a*e){w=a*e;h=u(w/c*d,10)}}m=u((a-w)/2,10);8=u((b-h)/2,10);7 g=z.N(c/d),C=z.N(w/c),V=z.N(C/e),L=z.N(V*f);l{q:w,r:h,m:m,8:8,1i:g,C:C,V:V,L:L}},1X:9(a,b,c){6($.1Y(c)){c=11.12(\'1A\');c.R=\'F-E-2j\';c.o.m=a.x+\'t\';c.o.8=a.y+\'t\';c.19=\'<2k 34="F-E-2j-35"></2k>\'}J{7 d=a.x<b.x||a.y<b.y;6(a.x<b.x&&a.y<b.y){c.o.m=a.x+\'t\';c.o.8=a.y+\'t\'}J 6(a.x>b.x&&a.y>b.y){c.o.m=b.x+\'t\';c.o.8=b.y+\'t\'}J 6(a.x<b.x&&a.y>b.y){c.o.m=a.x+\'t\';c.o.8=a.y-13.1a(b.y-a.y)+\'t\'}J 6(a.x>b.x&&a.y<b.y){c.o.m=a.x-13.1a(b.x-a.x)+\'t\';c.o.8=a.y+\'t\'}c.o.q=13.1a(b.x-a.x)+\'t\';c.o.r=13.1a(b.y-a.y)+\'t\'}l c},1Z:9(a,b){6(a.x<b.m){a.x=b.m}J 6(a.x>b.m+b.w){a.x=b.m+b.w}6(a.y<b.8){a.y=b.8}J 6(a.y>b.8+b.h){a.y=b.8+b.h}l a},1B:9(3){3.v.o.q=3.4.w+\'t\';3.v.o.r=3.4.h+\'t\';3.v.o.m=3.4.m+\'t\';3.v.o.8=3.4.8+\'t\';7 a=3.4.q>3.4.A.q||3.4.r>3.4.A.r;l a},1C:9(a){6(a===1h){l{q:0,r:0,m:0,8:0}}7 b=$.1C(a);6(!b.q||!b.r){b.q=u(a.o.q,10);b.r=u(a.o.r,10);b.m=u(a.o.m,10);b.8=u(a.o.8,10)}l b},N:9(a,b){6(!b){b=36}l 13.37(a*b)/b}};j.2l=$.2h(j.1S);z.2f();9 20(a){l n.21(a)}20.38={21:9(e){7 3=n,s=e,1b=P;6(3.v){3.B.1j(3.v);$.1k(3.s,s);1b=S}J{3.s=s}7 f=$.39(3.s.B||3.s.3a);6(3.s.q){f.o.q=3.s.q+\'t\'}6(3.s.r){f.o.r=3.s.r+\'t\'}f.R+=\' F-E-B\';f.o.22+=\'3b:3c;2m:3d;\';3.B=f;7 g=11.12(\'2n\');g.R=\'F-E-v F-E-1l F-E-1m\';g.o.22=\'2m:3e;3f:0;3g:0;\';g.1D=3.s.v||3.s.3h;3.B.14(g);3.v=g;3.Q={};7 h=$.1E(3.s.L||3.s.1F)?(3.s.L||3.s.1F):1,Y=$.1E(3.s.2o||3.s.2p||3.s.1G||3.s.Y)?(3.s.2o||3.s.2p||3.s.1G||3.s.Y):1,W=$.1E(3.s.T||3.s.W)?(3.s.T||3.s.W):1;6(h<=0||h>1){h=1}6(Y<=0||Y>1){Y=1}6(W<=0||W>5){W=1}7 i=z.1C(3.B);3.1n=11.12(\'1A\');3.1n.19=\'正在加载地图，请稍候...\';3.1n.o.22=\'1o:23;3i-3j:Z;3k-r:\'+i.r+\'t;\';3.B.14(3.1n);$.M(g,\'3l\',9(c){$.24(3.1n);7 d=z.1W(i.q,i.r,g.2q,g.2r,Y,h);1p.1q(\'3m:\',d);3.4={2s:3.v.1D,q:g.2q,r:g.2r,1i:d.1i,V:d.V,C:d.C,L:d.L,T:W,1F:h,1G:Y,W:W,w:d.q,h:d.r,m:d.m,8:d.8,x:u(d.q/2+d.m,10),y:u(d.r/2+d.8,10),A:{q:i.q,r:i.r,m:i.m,8:i.8},26:$.2t(3.s.26,S),27:$.2t(3.s.27,P)};z.1B(3);6(!1b){3.2u().2v()}3.2w().2x().1r().1H();$.3n(3.4.2s,9(a){7 b=a>=0?a.3o(2):\'\';3.1H(1h,b)});6($.1y(s.15)){s.15(3,3.4)}});l n},1b:9(a){l n.21(a)},2v:9(){7 3=n;7 a=11.12(\'1A\');a.R=\'F-E-1r F-E-1m\';$.M(a,\'1I\',9(){3.Z()});3.28=a;3.B.14(a);7 b=11.12(\'1A\');b.R=\'F-E-1H F-E-1m\';$.M(b,\'1I\',9(){3.D(3.4.V).Z()});3.1J=b;3.B.14(b);l n},1H:9(a,b){7 3=n;6(!3.1J||!3.4.27){l 3}6($.1Y(a)){7 c=[\'&1K;\',\'[\',3.4.q,\'×\',3.4.r,\'] \',(b?\'[\'+b+\'] \':\'\'),$.2g(3.v.1D),\'&1K;\'];3.1J.19=c.2y(\'\');l 3}3.1J.19=a||\'\';l n},1r:9(){7 3=n;6(!3.28||!3.4.26){l 3}7 a=z.N(3.4.q/3.4.w,2z);7 b=[\'1:\',a];6(a<1){a=z.N(1/a,2z);b=[a,\':1\']}3.28.19=\'&1K;\'+b.2y(\'\')+\'&1K;\';l n},3p:9(a){7 3=n;6($.3q(3.B)){3.B.o.q=(a.q||a.w)+\'t\';3.B.o.r=(a.r||a.h)+\'t\';6(3.4){7 b=z.1C(3.B);3.4.A={q:b.q,r:b.r,m:b.m,8:b.8};7 a=z.1W(b.q,b.r,3.4.q,3.4.r,3.4.1G,3.4.1F);3.4.1i=a.1i;3.4.V=a.V;3.4.C=a.C;3.4.L=a.L}}l n},2w:9(){7 3=n;3.v.2A=9(){l P};$.M(3.v,\'U\',9(a){6(0==a.2B){1p.1q(\'1l U\',a);$.O(a);3.4.U=S;3.v.3r(a.3s);3.4.1L=$.1c(a);3.4.1s={x:0,y:0};1p.1q(\'3t:\',3.4.x,3.4.y)}});$.M(3.v,\'2C\',9(a){6(3.4.U){$.O(a);6(a.1M.R.18(\'F-E-v\')<0){l P}7 b=$.1c(a);3.4.1s.x=b.x-3.4.1L.x;3.4.1s.y=b.y-3.4.1L.y;3.4.1L={x:b.x,y:b.y};3.4.x+=3.4.1s.x;3.4.y+=3.4.1s.y;7 c=3.4.x-3.4.w/2,8=3.4.y-3.4.h/2;3.v.o.m=c+\'t\';3.v.o.8=8+\'t\';3.4.m=c;3.4.8=8;3.1t()}a.1N()});$.M(3.v,\'2D\',9(a){6(3.4.U){$.O(a);6(a.1M.R.18(\'F-E-v\')<0){l P}3.4.U=P}});$.M(3.v,\'2E\',9(a){6(3.4.U){$.O(a);6(a.1M.R.18(\'F-E-v\')<0){l P}3.4.U=P}});l n},2u:9(){7 3=n;3.B.2A=9(){l P};$.M(3.B,\'U\',9(a){6(2==a.2B){$.O(a);1p.1q(\'B U\',a);7 b=$.1c(a);3.4.1d=S;3.4.1e={x:b.x-3.4.A.m,y:b.y-3.4.A.8};7 c=z.1X(3.4.1e);3.B.14(c);3.4.1u=c}});$.M(3.B,\'2C\',9(a){6(3.4.1d){$.O(a);7 b=$.1c(a);3.4.1f={x:b.x-3.4.A.m,y:b.y-3.4.A.8};3.4.1u=z.1X(3.4.1e,3.4.1f,3.4.1u)}a.1N()});$.M(3.B,\'2D\',9(a){6(3.4.1d){$.O(a);7 b=$.1c(a);3.4.1d=P;7 p={x:b.x-3.4.A.m,y:b.y-3.4.A.8};3.4.1f=p;3.4.1e=z.1Z(3.4.1e,3.4);3.4.1f=z.1Z(3.4.1f,3.4);$.24(3.4.1u);3.2F(3.4.1e,3.4.1f)}});$.M(3.B,\'2E\',9(a){6(3.4.1d){$.O(a);$.24(3.4.1u);3.4.1d=P}});l n},2F:9(a,b){7 3=n;6(a.x===b.x&&a.y===b.y){l 3}7 w=13.1a(a.x-b.x),h=13.1a(a.y-b.y),2G=a.x>b.x&&a.y>b.y,D=3.4.C,m,8,G,29={x:a.x<b.x?a.x:b.x,y:a.y<b.y?a.y:b.y};6(2G){G=0.5}J 6(w>=h){G=z.N(3.4.A.q/w);6(h*G>3.4.A.r){G=z.N(3.4.A.r/h)}}J{G=z.N(3.4.A.r/h);6(w*G>3.4.A.q){G=z.N(3.4.A.q/w)}}D=G*3.4.C;6(D<3.4.L){D=3.4.L}J 6(D>3.4.T){D=3.4.T}G=D/3.4.C;m=(3.4.m-29.x)*G-(w*G-3.4.A.q)/2;8=(3.4.8-29.y)*G-(h*G-3.4.A.r)/2;3.4.m=u(m,10);3.4.8=u(8,10);l 3.D(D)},D:9(a){7 3=n;6(a<3.4.L){a=3.4.L}J 6(a>3.4.T){a=3.4.T}3.4.C=z.N(a);3.4.w=u(3.4.q*a,10);3.4.h=u(3.4.r*a,10);3.4.x=3.4.m+3.4.w/2;3.4.y=3.4.8+3.4.h/2;z.1B(3);l n.1r().1t()},2a:9(a,b,c){7 3=n,X=$.3u(b),w=u(3.v.o.q,10),h=u(3.v.o.r,10),m=u(3.v.o.m,10),8=u(3.v.o.8,10),G=$.1E(c)?c:1.1,D=3.4.C;6((!a&&D<=3.4.L)||(a&&D>=3.4.T)){l n}6(!a){G=1/G}D=z.N(w*G/3.4.q);6(D<3.4.L){D=3.4.L}J 6(D>3.4.T){D=3.4.T}w=u(3.4.q*D,10);h=u(3.4.r*D,10);6(b){7 d=b.1M,X=$.1c(b);6(d.R.18(\'F-E-1l\')>=0){3.4.x-=u((G-1)*(X.x-3.4.x-3.4.A.m),10);3.4.y-=u((G-1)*(X.y-3.4.y-3.4.A.8),10)}}m=u(3.4.x-w/2,10);8=u(3.4.y-h/2,10);3.4.w=w;3.4.h=h;3.4.m=m;3.4.8=8;3.4.C=D;z.1B(3);l n.1r().1t()},Z:9(a){7 3=n;6($.1Y(a)){a={x:u(3.4.w/2,10)/3.4.C,y:u(3.4.h/2,10)/3.4.C};1p.1q(\'s:\',a)}7 x=3.4.C*a.x,y=3.4.C*a.y,w=3.4.w,h=3.4.h,2H=3.4.A.q/2,2I=3.4.A.r/2;7 b=u(2H-x,10),1O=u(2I-y,10);3.4.m=b;3.4.8=1O;3.4.x=u(b+w/2,10);3.4.y=u(1O+h/2,10);3.v.o.m=b+\'t\';3.v.o.8=1O+\'t\';l n.1t()},2J:9(){l n.Z(s)},2K:9(){7 3=n;6((3.4.w+3.4.m<=0)||(3.4.h+3.4.8<=0)||(3.4.m>=3.4.A.q)||(3.4.8>=3.4.A.r)){l S}l P},2x:9(){7 3=n;$.M(3.B,\'3v\',9(a){$.O(a);3.2a(a.3w<0,a)});$.M(3.B,\'1I\',9(a){$.O(a);6(3.2K()){3.Z()}a.1N()});$.M(3.v,\'1I\',9(a){$.O(a);3.2a(S,a,1.25);a.1N()});l n},1v:9(a){l\'I\'+a},1P:9(b){7 3=n;6(1g b===\'1V\'||b===1h){l 3}6($.3x(b.2b)||!$.2L(b.x)||!$.2L(b.y)){l 3}7 c=3.1v(b.2b);6(1g 3.Q[c]!==\'1V\'){6(b.1b){3.2c(b.2b)}J{l 3}}7 d={m:3.4.m+b.x*3.4.C,8:3.4.8+b.y*3.4.C};7 e=11.12(\'2n\'),1Q=$.1k({q:32,r:32},b.1Q);e.R=\'F-E-I F-E-1l F-E-1m\';e.1D=b.2d||3.4.2d||(j.2l+\'3y/2d.3z\');e.o.m=(d.m-1Q.q/2)+\'t\';e.o.8=(d.8-1Q.r)+\'t\';$.M(e,\'2M\',9(a){$.O(a);6($.1y(b.15)){b.15(n,3,b)}});3.B.14(e);7 f=1h;6(b.3A){f=11.12(\'3B\');f.19=b.1T;f.R=\'F-E-K F-E-1l F-E-1m\';f.o.m=d.m+\'t\';f.o.8=d.8+\'t\';$.M(f,\'2M\',9(a){$.O(a);6($.1y(b.15)){b.15(n,3,b)}});3.B.14(f)}3.Q[c]={I:e,K:f,1w:{x:b.x,y:b.y}};6(b.2J||b.Z){3.Z({x:b.x,y:b.y})}l n},I:9(a){l n.1P(a)},3C:9(a){l n.1P($.1k(a,{1b:S}))},1t:9(){7 3=n;1x(7 k 2N 3.Q){7 a=3.Q[k],I=a.I,K=a.K,1w=a.1w,X={m:3.4.m+1w.x*3.4.C,8:3.4.8+1w.y*3.4.C};6(I){I.o.m=(X.m-16)+\'t\';I.o.8=(X.8-32)+\'t\'}6(K){K.o.m=X.m+\'t\';K.o.8=X.8+\'t\'}}l n},2O:9(){7 3=n;1x(7 k 2N 3.Q){7 a=3.Q[k];6(a.I){a.I.1R.1j(a.I)}6(a.K){a.K.1R.1j(a.K)}}3.Q={};l n},2c:9(a){a=z.1z(a);1x(7 i=0;i<a.2e;i++){7 b=a[i],17=n.1v(b),H=n.Q[17];6(H){6(H.I){H.I.1R.1j(H.I)}6(H.K){H.K.1R.1j(H.K)}2c 3.Q[17]}}l n},3D:9(a){a=z.1z(a);1x(7 i=0;i<a.2e;i++){7 b=a[i],17=n.1v(b),H=n.Q[17];6(H){6(H.I){H.I.o.1o=\'23\'}6(H.K){H.K.o.1o=\'23\'}}}l n},2P:9(a){a=z.1z(a);1x(7 i=0;i<a.2e;i++){7 b=a[i],17=n.1v(b),H=n.Q[17];6(H){6(H.I){H.I.o.1o=\'2Q\'}6(H.K){H.K.o.1o=\'2Q\'}}}l n},3E:9(a){l n.1P(a)},3F:9(){l n.2O()},3G:9(a){l n.2P(a)}};$.1k({E:9(a,b){l 3H 20($.1k(a,{15:b}))}})}(3I);',62,231,'|||_|cfg||if|var|top|function||||||||||||return|left|this|style||width|height|opt|px|parseInt|img||||Factory|offset|box|curScale|scale|omap|oui|ratio|dr|marker|else|label|minScale|addListener|setRatio|cancelBubble|false|markers|className|true|maxScale|pointerdown|boxScale|maxZoom|pos|defZoom|center||document|createElement|Math|appendChild|callback||key|indexOf|innerHTML|abs|update|getEventPos|selectdown|startpointer|endpointer|typeof|null|imgRatio|removeChild|extend|map|unselect|prompt|display|console|log|status|diffpointer|move|selection|buildKey|pointer|for|isFunction|checkIds|DIV|setImgSize|getOffsetSize|src|isNumber|minZoom|defaultZoom|title|dblclick|titlebar|nbsp|lastpointer|target|preventDefault|targetTop|buildMarker|iconSize|parentNode|FilePath|name|dir|undefined|getSize|showRange|isNullOrUndefined|checkRange|Map|initial|cssText|block|removeElement||showScale|showTitle|statusbar|p0|zoom|id|delete|icon|length|loadCss|getFileName|getFilePath|split|range|div|FileDir|position|IMG|defaultScale|defScale|naturalWidth|naturalHeight|filePath|isBoolean|select|control|drag|wheelZoom|join|100|oncontextmenu|button|pointermove|pointerup|pointercancel|rangeScale|small|targetX|targetY|setCenter|outside|isNumeric|click|in|clear|hide|none|use|strict|getScriptSelfPath|isString|skin|loadLinkStyle|replace|min|css|isArray|number||string|class|panel|10000|round|prototype|toElement|obj|overflow|hidden|relative|absolute|margin|padding|pic|text|align|line|load|size|getFileSize|toFileSize|resize|isElement|setPointerCapture|pointerId|down|getEventPosition|wheel|deltaY|isUndefinedOrNull|imgs|png|showLabel|LABEL|updateMarker|show|showMarker|clearMarker|hideMarker|new|OUI'.split('|'),0,{}))
