/*
 @Title: oui.omap.js
 @Description：自定义图片地图插件
 @Author: oukunqing
 @License：MIT
*/

eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('!6($){\'2Z 30\';8 l={21:$.31(O),},t={2l:6(a,b){8 c=l.21,22=$.2m(c,O),23=$.2n(c);4($.33(a,O)){23+=\'34/\'+a+\'/\'}$.35(23+22.36(\'.37\',\'\')+\'.38\',6(){4($.1z(b)){b()}});7 m},1A:6(a){4(1n a===\'24\'||a===12){7[]}L 4($.39(a)){7 a}L 4(1n a===\'3a\'){7[a]}L 4(1n a===\'3b\'){4(a.1B(\',\')>=0){7 a.2o(\',\')}L 4(a.1B(\'|\')>=0){7 a.2o(\'|\')}7[a]}7[]},26:6(a,b,c,d,e,f){8 w,h,o,9;4(c>d){w=c>a?a*e:c;h=v(w/c*d,10);4(h>b*e){h=b*e;w=v(h/d*c,10)}}L{h=d>b?b*e:d;w=v(h/d*c,10);4(w>a*e){w=a*e;h=v(w/c*d,10)}}o=v((a-w)/2,10);9=v((b-h)/2,10);8 g=t.R(c/d),C=t.R(w/c),X=t.R(C/e),N=t.R(X*f);7{r:w,s:h,o:o,9:9,1o:g,C:C,X:X,N:N}},27:6(a,b,c,d){4($.28(c)){c=Y.18(\'1C\');c.Z=\'I-G-2p\';c.p.o=a.x+\'u\';c.p.9=a.y+\'u\';c.1d=\'<2q 3c="I-G-2p-3d"></2q>\';d.19(c)}L 4(b){c.p.o=(a.x<b.x?a.x:b.x)+\'u\';c.p.9=(a.y<b.y?a.y:b.y)+\'u\';c.p.r=1p.1D(b.x-a.x)+\'u\';c.p.s=1p.1D(b.y-a.y)+\'u\';c.p.1a=\'1E\'}7 c},29:6(a){a.p.1a=\'1F\';7 a},2a:6(a,b){4(a.x<b.o){a.x=b.o}L 4(a.x>b.o+b.w){a.x=b.o+b.w}4(a.y<b.9){a.y=b.9}L 4(a.y>b.9+b.h){a.y=b.9+b.h}7 a},1G:6(a){a.A.p.r=a.3.w+\'u\';a.A.p.s=a.3.h+\'u\';a.A.p.o=a.3.o+\'u\';a.A.p.9=a.3.9+\'u\';8 b=a.3.r>a.3.B.r||a.3.s>a.3.B.s;7 b},1H:6(a){4(a===12){7{r:0,s:0,o:0,9:0}}8 b=$.1H(a);4(!b.r||!b.s){b.r=v(\'0\'+a.p.r,10);b.s=v(\'0\'+a.p.s,10);b.o=v(\'0\'+a.p.o,10);b.9=v(\'0\'+a.p.9,10)}7 b},R:6(a,b){4(!b){b=3e}7 1p.3f(a*b)/b}};l.2r=$.2n(l.21);t.2l();6 2b(a){7 m.2c(a)}2b.3g={2c:6(f){8 g=m,q=$.1e({2s:O,1I:S,1J:O,1f:S,1g:0,1K:O},f),1h=S;4(g.A){g.z.1q(g.A);$.1e(g.q,q);1h=O}L{g.q=q}8 h=$.3h(g.q.z||g.q.3i);h.Z+=\' I-G-z\';h.p.2d+=\'3j:3k;2t:3l;\'+(!q.2s?\'3m:1F;\':\'\');g.z=h;4(g.q.1f){g.1L(12,g.q.1f,g.q.1g)}L{4(g.q.r){h.p.r=g.q.r+\'u\'}4(g.q.s){h.p.s=g.q.s+\'u\'}}8 i=Y.18(\'2u\');i.Z=\'I-G-A I-G-1M I-G-1r\';i.p.2d=\'2t:3n;1g:0;3o:0;\';i.1N=(g.q.A||g.q.3p||\'\').3q();g.z.19(i);g.A=i;g.T={};8 j=$.1O(g.q.N||g.q.1P)?(g.q.N||g.q.1P):1,13=$.1O(g.q.2v||g.q.2w||g.q.1Q||g.q.13)?(g.q.2v||g.q.2w||g.q.1Q||g.q.13):1,11=$.1O(g.q.V||g.q.11)?(g.q.V||g.q.11):1;4(j<=0||j>1){j=1}4(13<=0||13>1){13=1}4(11<=0||11>5){11=1}8 k=t.1H(g.z);g.1s=Y.18(\'1C\');g.1s.1d=\'正在加载地图，请稍候...\';g.1s.p.2d=\'1a:1E;3r-3s:14;3t-s:\'+k.s+\'u;\';g.z.19(g.1s);$.J(i,\'3u\',6(c){$.3v(g.1s);8 d=t.26(k.r,k.s,i.2x,i.2y,13,j);3w.3x(\'3y:\',d);g.3={2z:g.A.1N,r:i.2x,s:i.2y,1o:d.1o,X:d.X,C:d.C,N:d.N,V:11,1P:j,1Q:13,11:11,1f:g.q.1f,1g:g.q.1g,w:d.r,h:d.s,o:d.o,9:d.9,x:v(d.r/2+d.o,10),y:v(d.s/2+d.9,10),B:{r:k.r,s:k.s,o:k.o,9:k.9},1J:g.q.1J,1I:g.q.1I};t.1G(g);4(!1h){g.2A().2B()}g.2C().2D().1t().1R();$.3z(g.3.2z,6(a){8 b=a>=0?a.3A(2):\'\';g.1R(12,b)});4($.1z(q.1b)){q.1b(g,g.3)}});$.J(3B,\'1L\',6(){g.1L(12,g.q.1f,g.q.1g)});4(g.q.1K){$.2E(Y,\'2F\',\'F\',6(e,n){$.1K(g.z)},O);$.2E(Y,\'2F\',\'Q\',6(e,n){$.1K(g.z)},O)}7 m},1h:6(a){7 m.2c(a)},2B:6(){8 a=m;8 b=Y.18(\'1C\');b.Z=\'I-G-1t I-G-1r\';$.J(b,\'1S\',6(){a.14()});a.2e=b;a.z.19(b);8 c=Y.18(\'1C\');c.Z=\'I-G-1R I-G-1r\';$.J(c,\'1S\',6(){a.D(a.3.X).14()});a.1T=c;a.z.19(c);7 m},1R:6(a,b){8 c=m;4(!c.1T||!c.3.1I){7 c}4($.28(a)){8 d=[\'&1U;\',\'[\',c.3.r,\'×\',c.3.s,\'] \',(b?\'[\'+b+\'] \':\'\'),$.2m(c.A.1N),\'&1U;\'];c.1T.1d=d.2G(\'\');7 c}c.1T.1d=a||\'\';7 m},1t:6(){8 a=m;4(!a.2e||!a.3.1J){7 a}8 b=t.R(a.3.r/a.3.w,2H);8 c=[\'1:\',b];4(b<1){b=t.R(1/b,2H);c=[b,\':1\']}a.2e.1d=\'&1U;\'+c.2G(\'\')+\'&1U;\';7 m},1L:6(a,b,c){8 d=m,U,1i;4(!$.3C(d.z)){7 m}4(a&&(a.r||a.s)){4(a.r){d.z.p.r=a.r+\'u\'}4(a.s){d.z.p.s=a.s+\'u\'}}L 4(b){U=$.3D();1i=$.3E(c);d.z.p.r=U.r-(1i?1i.3F:0)+\'u\';d.z.p.s=U.s-(1i?1i.3G:0)+\'u\'}4(d.3){U=t.1H(d.z);d.3.B={r:U.r,s:U.s,o:U.o,9:U.9};8 a=t.26(U.r,U.s,d.3.r,d.3.s,d.3.1Q,d.3.1P);d.3.1o=a.1o;d.3.X=a.X;d.3.C=a.C;d.3.N=a.N}7 m},2C:6(){8 d=m;d.A.2I=6(){7 S};$.J(d.A,\'W\',6(a){4(0==a.2J){$.P(a);d.3.W=O;d.A.3H(a.3I);d.3.1V=$.1j(a);d.3.1u={x:0,y:0}}});$.J(d.A,\'2K\',6(a){4(d.3.W){$.P(a);4(a.2L.Z.1B(\'I-G-A\')<0){7 S}8 b=$.1j(a);d.3.1u.x=b.x-d.3.1V.x;d.3.1u.y=b.y-d.3.1V.y;d.3.1V={x:b.x,y:b.y};d.3.x+=d.3.1u.x;d.3.y+=d.3.1u.y;8 c=d.3.x-d.3.w/2,9=d.3.y-d.3.h/2;d.A.p.o=c+\'u\';d.A.p.9=9+\'u\';d.3.o=c;d.3.9=9;d.1v()}a.1W()});$.J(d.A,\'2M\',6(a){4(d.3.W){$.P(a);d.3.W=S}});$.J(d.A,\'3J\',6(a){4(d.3.W){$.P(a);d.3.W=S}});$.J(d.A,\'2N\',6(a){4(d.3.W){$.P(a);d.3.W=S}});7 m},2A:6(){8 c=m;c.z.2I=6(){7 S};$.J(c.z,\'W\',6(a){4(2==a.2J){$.P(a);8 b=$.1j(a);c.3.1k=O;c.3.1l={x:b.x-c.3.B.o,y:b.y-c.3.B.9};c.3.15=t.27(c.3.1l,12,c.3.15,c.z)}});$.J(c.z,\'2K\',6(a){4(c.3.1k){$.P(a);8 b=$.1j(a);c.3.1m={x:b.x-c.3.B.o,y:b.y-c.3.B.9};c.3.15=t.27(c.3.1l,c.3.1m,c.3.15,c.z)}a.1W()});$.J(c.z,\'2M\',6(a){4(c.3.1k){$.P(a);8 b=$.1j(a);c.3.1k=S;c.3.1m={x:b.x-c.3.B.o,y:b.y-c.3.B.9};c.3.1l=t.2a(c.3.1l,c.3);c.3.1m=t.2a(c.3.1m,c.3);c.3.15=t.29(c.3.15);c.2O(c.3.1l,c.3.1m)}});$.J(c.z,\'2N\',6(a){4(c.3.1k){$.P(a);c.3.15=t.29(c.3.15);c.3.1k=S}});7 m},2O:6(a,b){8 c=m;4(a.x===b.x&&a.y===b.y){7 c}8 w=1p.1D(a.x-b.x),h=1p.1D(a.y-b.y),2P=a.x>b.x&&a.y>b.y,D=c.3.C,o,9,K,2f={x:a.x<b.x?a.x:b.x,y:a.y<b.y?a.y:b.y};4(2P){K=0.5}L 4(w>=h){K=t.R(c.3.B.r/w);4(h*K>c.3.B.s){K=t.R(c.3.B.s/h)}}L{K=t.R(c.3.B.s/h);4(w*K>c.3.B.r){K=t.R(c.3.B.r/w)}}D=K*c.3.C;4(D<c.3.N){D=c.3.N}L 4(D>c.3.V){D=c.3.V}K=D/c.3.C;o=(c.3.o-2f.x)*K-(w*K-c.3.B.r)/2;9=(c.3.9-2f.y)*K-(h*K-c.3.B.s)/2;c.3.o=v(o,10);c.3.9=v(9,10);7 c.D(D)},D:6(a){8 b=m;4(a<b.3.N){a=b.3.N}L 4(a>b.3.V){a=b.3.V}b.3.C=t.R(a);b.3.w=v(b.3.r*a,10);b.3.h=v(b.3.s*a,10);b.3.x=v(b.3.o+b.3.w/2,10);b.3.y=v(b.3.9+b.3.h/2,10);t.1G(b);7 m.1t().1v()},2g:6(a,b,c){8 d=m,w=v(d.A.p.r,10),h=v(d.A.p.s,10),K=$.1O(c)?c:1.1,D=d.3.C;4((!a&&D<=d.3.N)||(a&&D>=d.3.V)){7 m}4(!a){K=1/K}D=t.R(w*K/d.3.r);4(D<d.3.N){D=d.3.N}L 4(D>d.3.V){D=d.3.V}w=v(d.3.r*D,10);h=v(d.3.s*D,10);4(b){8 e=b.2L,17=$.1j(b);4(e.Z.1B(\'I-G-1M\')>=0){d.3.x-=(w-d.3.w)*(17.x-d.3.x-d.3.B.o)/d.3.w;d.3.y-=(h-d.3.h)*(17.y-d.3.y-d.3.B.9)/d.3.h}}d.3.w=w;d.3.h=h;d.3.o=d.3.x-w/2;d.3.9=d.3.y-h/2;d.3.C=D;t.1G(d);7 m.1t().1v()},14:6(a){8 b=m;4($.28(a)){a={x:v(b.3.w/2,10)/b.3.C,y:v(b.3.h/2,10)/b.3.C}}8 x=b.3.C*a.x,y=b.3.C*a.y,w=b.3.w,h=b.3.h,2Q=b.3.B.r/2,2R=b.3.B.s/2;8 c=v(2Q-x,10),1X=v(2R-y,10);b.3.o=c;b.3.9=1X;b.3.x=v(c+w/2,10);b.3.y=v(1X+h/2,10);b.A.p.o=c+\'u\';b.A.p.9=1X+\'u\';7 m.1v()},2S:6(){7 m.14(q)},2T:6(){8 a=m;4((a.3.w+a.3.o<=0)||(a.3.h+a.3.9<=0)||(a.3.o>=a.3.B.r)||(a.3.9>=a.3.B.s)){7 O}7 S},2D:6(){8 b=m;$.J(b.z,\'3K\',6(a){$.P(a);b.2g(a.3L<0,a)});$.J(b.z,\'1S\',6(a){$.P(a);4(b.2T()){b.14()}a.1W()});$.J(b.A,\'1S\',6(a){$.P(a);b.2g(O,a,1.25);a.1W()});7 m},1w:6(a){7\'H\'+a},1Y:6(b){8 c=m;4(1n b===\'24\'||b===12){7 c}4($.3M(b.2h)||!$.2U(b.x)||!$.2U(b.y)){7 c}8 d=c.1w(b.2h);4(1n c.T[d]!==\'24\'){4(b.1h){c.2i(b.2h)}L{7 c}}8 e={o:c.3.o+b.x*c.3.C,9:c.3.9+b.y*c.3.C};8 f=Y.18(\'2u\'),1Z=$.1e({r:32,s:32},b.1Z);f.Z=\'I-G-H I-G-1M I-G-1r\';f.1N=b.2j||c.3.2j||(l.2r+\'3N/2j.3O\');f.p.o=(e.o-1Z.r/2)+\'u\';f.p.9=(e.9-1Z.s)+\'u\';$.J(f,\'2V\',6(a){$.P(a);4($.1z(b.1b)){b.1b(m,c,b)}});c.z.19(f);8 g=12;4(b.3P){g=Y.18(\'3Q\');g.1d=b.22;g.Z=\'I-G-M I-G-1M I-G-1r\';g.p.o=e.o+\'u\';g.p.9=e.9+\'u\';$.J(g,\'2V\',6(a){$.P(a);4($.1z(b.1b)){b.1b(m,c,b)}});c.z.19(g)}c.T[d]={H:f,M:g,1x:{x:b.x,y:b.y}};4(b.2S||b.14){c.14({x:b.x,y:b.y})}7 m},H:6(a){7 m.1Y(a)},3R:6(a){7 m.1Y($.1e(a,{1h:O}))},1v:6(){8 a=m;1y(8 k 2W a.T){8 b=a.T[k],H=b.H,M=b.M,1x=b.1x,17={o:a.3.o+1x.x*a.3.C,9:a.3.9+1x.y*a.3.C};4(H){H.p.o=(17.o-16)+\'u\';H.p.9=(17.9-32)+\'u\'}4(M){M.p.o=17.o+\'u\';M.p.9=17.9+\'u\'}}7 m},2X:6(){8 a=m;1y(8 k 2W a.T){8 b=a.T[k];4(b.H){b.H.20.1q(b.H)}4(b.M){b.M.20.1q(b.M)}}a.T={};7 m},2i:6(a){a=t.1A(a);1y(8 i=0;i<a.2k;i++){8 b=a[i],1c=m.1w(b),E=m.T[1c];4(E){4(E.H){E.H.20.1q(E.H)}4(E.M){E.M.20.1q(E.M)}2i 3S.T[1c]}}7 m},3T:6(a){a=t.1A(a);1y(8 i=0;i<a.2k;i++){8 b=a[i],1c=m.1w(b),E=m.T[1c];4(E){4(E.H){E.H.p.1a=\'1E\'}4(E.M){E.M.p.1a=\'1E\'}}}7 m},2Y:6(a){a=t.1A(a);1y(8 i=0;i<a.2k;i++){8 b=a[i],1c=m.1w(b),E=m.T[1c];4(E){4(E.H){E.H.p.1a=\'1F\'}4(E.M){E.M.p.1a=\'1F\'}}}7 m},3U:6(a){7 m.1Y(a)},3V:6(){7 m.2X()},3W:6(a){7 m.2Y(a)}};$.1e({G:6(a,b){7 3X 2b($.1e(a,{1b:b}))}})}(3Y);',62,247,'|||cfg|if||function|return|var|top|||||||||||||this||left|style|opt|width|height|Factory|px|parseInt||||box|img|offset|curScale|scale|dr||omap|marker|oui|addListener|ratio|else|label|minScale|true|cancelBubble||setRatio|false|markers|bs|maxScale|pointerdown|boxScale|document|className||maxZoom|null|defZoom|center|selection||pos|createElement|appendChild|display|callback|key|innerHTML|extend|fill|margin|update|ms|getEventPos|selectdown|startpointer|endpointer|typeof|imgRatio|Math|removeChild|unselect|prompt|status|diffpointer|move|buildKey|pointer|for|isFunction|checkIds|indexOf|DIV|abs|block|none|setImgSize|getOffsetSize|showTitle|showScale|fullScreen|resize|map|src|isNumber|minZoom|defaultZoom|title|dblclick|titlebar|nbsp|lastpointer|preventDefault|targetTop|buildMarker|iconSize|parentNode|FilePath|name|dir|undefined||getSize|showRange|isNullOrUndefined|hideRange|checkRange|Map|initial|cssText|statusbar|p0|zoom|id|delete|icon|length|loadCss|getFileName|getFilePath|split|range|div|FileDir|showBorder|position|IMG|defaultScale|defScale|naturalWidth|naturalHeight|filePath|select|control|drag|wheelZoom|addKeyListener|keyup|join|100|oncontextmenu|button|pointermove|target|pointerup|pointercancel|rangeScale|small|targetX|targetY|setCenter|outside|isNumeric|click|in|clear|hide|use|strict|getScriptSelfPath||isString|skin|loadLinkStyle|replace|min|css|isArray|number|string|class|panel|10000|round|prototype|toElement|obj|overflow|hidden|relative|border|absolute|padding|pic|cleanSlash|text|align|line|load|removeElement|console|log|size|getFileSize|toFileSize|window|isElement|getBodySize|getMarginSize|marginWidth|marginHeight|setPointerCapture|pointerId|pointerout|wheel|deltaY|isUndefinedOrNull|imgs|png|showLabel|LABEL|updateMarker|that|show|showMarker|clearMarker|hideMarker|new|OUI'.split('|'),0,{}))
