/*
 @Title: oui.picturebox.js
 @Description：自定义图片框插件
 @Author: oukunqing
 @License：MIT
*/

eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('!8($){\'3i 3j\';24 26={2y:$.3k(L),2z:\'P.27.\'},1v={28:{},3l:{},N:{},2A:8(a){m 1v.28[\'2B\'+a]},2C:8(a,b){1v.28[\'2B\'+a]={1n:a,t:b,};m v}},u={2D:8(a,b){$.3m(26.2y,a,b,26.2z);m v},29:8(a){X 7=$.1o({},a);7.1w=$.2E(7.1w||7.t||7.3n||7.1n);6(!$.3o(7.1w)){m 13}7.1n=7.1w.1n;m 7},2F:8(a){X 7=u.29(a);6(7===13){m 13}o b=1v.2A(7.1n),t;6(b){t=b.t;t.1x(7)}I{t=3p 2a(7);1v.2C(7.1n,t)}m t},2b:8(a,b,c,d,e,f){o w,h,k,9;6(c>d){w=c>a?a*e:c;h=B(w/c*d,10);6(h>b*e){h=b*e;w=B(h/d*c,10)}}I{h=d>b?b*e:d;w=B(h/d*c,10);6(w>a*e){w=a*e;h=B(w/c*d,10)}}k=B((a-w)/2,10);9=B((b-h)/2,10);o g=u.R(c/d),C=u.R(w/c),14=u.R(C/e),J=u.R(14*f);m{l:w,q:h,k:k,9:9,1y:g,C:C,14:14,J:J}},2c:8(a,b,c,d){6($.2d(c)){c=1a.1z(\'1M\');c.1b=\'P-N-2G\';c.s.k=a.x+\'A\';c.s.9=a.y+\'A\';c.1A=\'<15 2H="P-N-2G-3q"></15>\';d.1B(c)}I 6(b){c.s.k=(a.x<b.x?a.x:b.x)+\'A\';c.s.9=(a.y<b.y?a.y:b.y)+\'A\';c.s.l=T.1c(b.x-a.x)+\'A\';c.s.q=T.1c(b.y-a.y)+\'A\';c.s.1C=\'2I\'}m c},2e:8(a){a.s.1C=\'1D\';m a},2f:8(a,b){6(a.x<b.k){a.x=b.k}I 6(a.x>b.k+b.w){a.x=b.k+b.w}6(a.y<b.9){a.y=b.9}I 6(a.y>b.9+b.h){a.y=b.9+b.h}m a},2g:8(a,b){X 1h=b.2h(),x=a.Y,y=a.Z;6(x>=1h.k&&x<=1h.3r&&y>=1h.9&&y<=1h.3s){m L}m O},1N:8(a){a.r.s.l=a.3.w+\'A\';a.r.s.q=a.3.h+\'A\';a.r.s.k=a.3.k+\'A\';a.r.s.9=a.3.9+\'A\';o b=a.3.l>a.3.E.l||a.3.q>a.3.E.q;6(a.3.C>=1){v.1E(a)}m b},1O:8(a){6(a===13){m{l:0,q:0,k:0,9:0}}o b=$.1O(a);6(!b.l||!b.q){b.l=B(\'0\'+a.s.l,10);b.q=B(\'0\'+a.s.q,10);b.k=B(\'0\'+a.s.k,10);b.9=B(\'0\'+a.s.9,10)}m b},R:8(a,b){6(!b){b=3t}m T.3u(a*b)/b},2J:8(a,b,c){X U=2,k=a.Y-c.k+U,9=a.Z-c.9+U;3v(b.1F){3w\'1d\':k=a.Y-c.k-b.l/2;9=a.Z-c.9-b.q/2;2K;2L:6(k+b.l>=c.l){k=a.Y-c.k-b.l-U}6(9+b.q>=c.q){9=a.Z-c.9-b.q-U}2K}m{k:k,9:9}},1i:8(a,b){X 3=b.3,7=3.1p,1h=b.t.2h();6(!3.1i||3.C>=1||b.3.V||!v.2g(a,b.r)||!v.2g(a,b.t)){v.1E(b);m v}b.r.s.1j=7.1j;6(!b.16){X 15=1a.1z(\'1M\'),2M=$.3x(b.r,\'z-2N\'),1P=$.3y(7.1P,(7.l+7.q)/4);15.1b=\'P-N-16\';15.s.1G=[\'l:\',7.l,\'A;q:\',7.l,\'A;\',\'2i-1P:\',1P,\'A;\',$.1H(7.2j)?\'2j:\'+7.2j+\';\':\'\',\'z-2N:\',(2M+1),\';\'].1Q(\'\')+7.1G;15.1A=\'<r 2H="16-r" 17="\'+b.r.17+\'" />\';b.t.1B(15);b.16=15;b.1R=15.3z[0]}I 6(b.16.s.1C===\'1D\'){6(b.1R.17!==b.r.17){b.1R.17=b.r.17}b.16.s.1C=\'2I\'}X 2k=b.16,r=b.1R;6([\'2O\',\'1j\',\'1d\'].1S(7.1F)>-1){X 18=u.2J(a,7,1h);2k.s.k=18.k+\'A\';2k.s.9=18.9+\'A\'}X K=b.r.2h(),18={x:a.Y-K.k,y:a.Z-K.9},1k=3.C/7.1k,2l=[\'k:\',-18.x/1k+7.l/2,\'A;\',\'9:\',-18.y/1k+7.q/2,\'A;\'];6(7.1k>1){2l.3A(\'l:\',3.l*7.1k,\'A;\')}r.s.1G=2l.1Q(\'\')},1E:8(a){6(a.16){a.16.s.1C=\'1D\';a.r.s.1j=\'2L\'}},2P:8(a){24 x=a[1].Y-a[0].Y;24 y=a[1].Z-a[0].Z;m T.2Q(x*x+y*y)}};u.2D();8 2a(a){m v.2m(a)}2a.3B={2m:8(f){o g=v,7=$.1o({2R:L,1I:L,1T:L,1q:O,U:0,1U:L,1i:L,1p:13},f),1x=O;7.1p=$.1o({l:2S,q:2S,1k:1,1j:\'3C\',1F:\'2O\'},f.1p);6(g.r){g.t.3D(g.r);$.1o(g.7,7);1x=L}I{g.7=7}o h=$.2E(g.7.1w);h.1b+=\' P-N-t\';h.s.1G+=\'3E:3F;1F:3G;\'+(!7.2R?\'2i:1D;\':\'\');g.t=h;6(g.7.1q){g.1V(13,g.7.1q,g.7.U)}I{6(g.7.l){h.s.l=g.7.l+\'A\'}6(g.7.q){h.s.q=g.7.q+\'A\'}}o i=1a.1z(\'2T\'),2U=g.7.r||g.7.3H;6(3I.3J.1S(\'3K\')===0){i.3L=\'3M\'}i.1b=\'P-N-r P-N-2n\';i.s.1G=\'1F:3N;2i:1D;U:0;3O:0;\';i.17=2U.3P();g.t.1B(i);g.r=i;o j=$.1H(g.7.J||g.7.1W)?(g.7.J||g.7.1W):1,1e=$.1H(g.7.2V||g.7.2W||g.7.1X||g.7.1e)?(g.7.2V||g.7.2W||g.7.1X||g.7.1e):1,19=$.1H(g.7.11||g.7.19)?(g.7.11||g.7.19):1;6(j<=0||j>1){j=1}6(1e<=0||1e>1){1e=1}6(19<=0||19>5){19=1}$.G(g.r,\'3Q\',8(c){o d=u.1O(g.t),K=u.2b(d.l,d.q,i.2X,i.2Y,1e,j);g.3={2Z:g.r.17,l:i.2X,q:i.2Y,1y:K.1y,14:K.14,C:K.C,J:K.J,11:19,1W:j,1X:1e,19:19,1q:g.7.1q,U:g.7.U,w:K.l,h:K.q,k:K.k,9:K.9,x:B(K.l/2+K.k,10),y:B(K.q/2+K.9,10),E:{l:d.l,q:d.q,k:d.k,9:d.9},1T:g.7.1T,1I:g.7.1I,1i:g.7.1i,1p:g.7.1p};u.1N(g);6(!1x){g.30().31()}g.32().33().34().1J().1Y();$.3R(g.3.2Z,8(a){o b=a>=0?a:(7.3S||0);b=b>0?b.3T(2):\'\';g.1Y(13,b)});6($.3U(g.7.2o)){g.7.2o(g,g.3)}});$.G(3V,\'1V\',8(){g.1V(13,g.7.1q,g.7.U)});6(g.7.1U){$.35(1a,\'36\',\'F\',8(e,n){$.1U(g.t)},L);$.35(1a,\'36\',\'Q\',8(e,n){$.1U(g.t)},L)}m v},1x:8(a){X 7=u.29(a);6(7){m v.2m(7)}m v},31:8(){o a=v;o b=1a.1z(\'1M\');b.1b=\'P-N-1Y P-N-2n\';$.G(b,\'1Z,2p\',8(){$.M();a.D(a.3.14).1d()});b.2q=8(){a.D(1).1d();m O};a.20=b;a.t.1B(b);o c=1a.1z(\'1M\');c.1b=\'P-N-1J P-N-2n\';$.G(c,\'1Z,2p\',8(){$.M();a.1d()});a.2r=c;a.t.1B(c);6(!a.3.1I){c.2q=8(){a.D(1).1d();m O}}m v},1Y:8(a,b){o c=v;6(!c.20||!c.3.1I){m c}6($.2d(a)){o d=[\'&21;\',\'[\',c.3.l,\'×\',c.3.q,\'] \',(b?\'[\'+b+\'] \':\'\'),$.3W(c.r.17),\'&21;\',\'\'];c.20.1A=d.1Q(\'\');m c}c.20.1A=a||\'\';m v},1J:8(){o a=v;6(!a.2r||!a.3.1T){m a}o b=u.R(a.3.l/a.3.w,37);o c=[\'1:\',b];6(b<1){b=u.R(1/b,37);c=[b,\':1\']}a.2r.1A=\'&21;\'+c.1Q(\'\')+\'&21;\';m v},32:8(){o d=v;$.G(d.r,\'V\',8(a){6(0==a.38){$.M(a);d.3.V=L;d.r.3X(a.3Y);d.3.1f=$.1l(a);d.3.12={x:0,y:0}}});$.G(d.r,\'2s\',8(a){6(d.3.V){$.M(a);6(a.2t.1b.1S(\'P-N-r\')<0){m O}u.1E(d);o b=$.1l(a);d.3.12.x=b.x-d.3.1f.x;d.3.12.y=b.y-d.3.1f.y;d.3.1f={x:b.x,y:b.y};d.3.x+=d.3.12.x;d.3.y+=d.3.12.y;o c=d.3.x-d.3.w/2,9=d.3.y-d.3.h/2;d.r.s.1j=\'1r\';d.r.s.k=c+\'A\';d.r.s.9=9+\'A\';d.3.k=c;d.3.9=9}a.1K()});6(d.3.1i){$.G([d.t,1a],\'2s\',8(a){u.1i(a,d)})}$.G(d.r,\'39\',8(a){6(d.3.V){$.M(a);d.3.V=O}});$.G(d.r,\'3Z\',8(a){6(d.3.V){$.M(a);d.3.V=O}I{u.1E(d)}});$.G(d.r,\'3a\',8(a){6(d.3.V){$.M(a);d.3.V=O}});m v},30:8(){o c=v;c.t.2q=8(a){6(c.3.2u||!c.3.3b||a.2t.40!==\'2T\'){m O}};$.G(c.t,\'V\',8(a){6(2==a.38){$.M(a);o b=$.1l(a);c.3.1s=L;c.3.2u=O;c.3.1m={x:b.x-c.3.E.k,y:b.y-c.3.E.9};c.3.1g=u.2c(c.3.1m,13,c.3.1g,c.t);c.3.3b=c.3c(c.3.1m,c.3)}});$.G(c.t,\'2s\',8(a){6(c.3.1s){$.M(a);o b=$.1l(a);c.3.1t={x:b.x-c.3.E.k,y:b.y-c.3.E.9};c.3.1g=u.2c(c.3.1m,c.3.1t,c.3.1g,c.t)}a.1K()});$.G(c.t,\'39\',8(a){6(c.3.1s){$.M(a);o b=$.1l(a);c.3.1s=O;c.3.1t={x:b.x-c.3.E.k,y:b.y-c.3.E.9};c.3.1m=u.2f(c.3.1m,c.3);c.3.1t=u.2f(c.3.1t,c.3);c.3.1g=u.2e(c.3.1g);c.3d(c.3.1m,c.3.1t)}});$.G(c.t,\'3a\',8(a){6(c.3.1s){$.M(a);c.3.1g=u.2e(c.3.1g);c.3.1s=O}});m v},3d:8(a,b){o c=v;6(a.x===b.x&&a.y===b.y){m c}c.3.2u=L;o w=T.1c(a.x-b.x),h=T.1c(a.y-b.y),3e=a.y>b.y,D=c.3.C,k,9,H,2v={x:a.x<b.x?a.x:b.x,y:a.y<b.y?a.y:b.y};6(3e){H=0.5}I 6(w>=h){H=u.R(c.3.E.l/w);6(h*H>c.3.E.q){H=u.R(c.3.E.q/h)}}I{H=u.R(c.3.E.q/h);6(w*H>c.3.E.l){H=u.R(c.3.E.l/w)}}D=H*c.3.C;6(D<c.3.J){D=c.3.J}I 6(D>c.3.11){D=c.3.11}H=D/c.3.C;k=(c.3.k-2v.x)*H-(w*H-c.3.E.l)/2;9=(c.3.9-2v.y)*H-(h*H-c.3.E.q)/2;c.3.k=B(k,10);c.3.9=B(9,10);m c.D(D)},D:8(a){o b=v;6(a<b.3.J){a=b.3.J}I 6(a>b.3.11){a=b.3.11}b.3.C=u.R(a);b.3.w=B(b.3.l*a,10);b.3.h=B(b.3.q*a,10);b.3.x=b.3.k+b.3.w/2;b.3.y=b.3.9+b.3.h/2;u.1N(b);m b.1J().1r()},2w:8(a,b,c){o d=v,w=B(d.r.s.l,10),h=B(d.r.s.q,10),H=$.1H(c)?c:1.1,D=d.3.C;6((!a&&D<=d.3.J)||(a&&D>=d.3.11)){m d}6(!a){H=1/H}D=u.R(w*H/d.3.l);6(D<d.3.J){D=d.3.J}I 6(D>d.3.11){D=d.3.11}w=B(d.3.l*D,10);h=B(d.3.q*D,10);6(b){o e=b.2t,18=$.1l(b);6(e.1b.1S(\'P-N-r\')>=0){d.3.x-=(w-d.3.w)*(18.x-d.3.x-d.3.E.k)/d.3.w;d.3.y-=(h-d.3.h)*(18.y-d.3.y-d.3.E.9)/d.3.h}}d.3.w=w;d.3.h=h;d.3.k=d.3.x-w/2;d.3.9=d.3.y-h/2;d.3.C=D;u.1N(d);m d.1J().1r()},1d:8(a){o b=v;6($.2d(a)){a={x:B(b.3.w/2,10)/b.3.C,y:B(b.3.h/2,10)/b.3.C}}o x=b.3.C*a.x,y=b.3.C*a.y,w=b.3.w,h=b.3.h,3f=b.3.E.l/2,3g=b.3.E.q/2;o c=B(3f-x,10),22=B(3g-y,10);b.3.k=c;b.3.9=22;b.3.x=B(c+w/2,10);b.3.y=B(22+h/2,10);b.r.s.k=c+\'A\';b.r.s.9=22+\'A\';m b.1r()},1r:8(){m v},3h:8(){o a=v;6((a.3.w+a.3.k<=0)||(a.3.h+a.3.9<=0)||(a.3.k>=a.3.E.l)||(a.3.9>=a.3.E.q)){m L}m O},33:8(){o b=v;$.G(b.t,\'41\',8(a){$.M(a);b.2w(a.42<0,a)});$.G(b.t,\'1Z\',8(a){$.M(a);6(b.3h()){b.1d()}a.1K()});$.G(b.r,\'1Z\',8(a){$.M(a);b.2w(L,a,1.25);a.1K()});m b},34:8(){o d=v;$.G(d.r,\'2p\',8(e){6(e.S.1L===1){o x=T.1c(e.S[0].Y);o y=T.1c(e.S[0].Z);d.3.12={x:0,y:0};d.3.1f={x:x,y:y}}I 6(e.S.1L===2){d.3.23=u.2P(e.S)}});$.G(d.r,\'43\',8(e){6(e.S.1L===1){o a=$.1l(e);d.3.12.x=a.x-d.3.1f.x;d.3.12.y=a.y-d.3.1f.y;d.3.1f={x:a.x,y:a.y};d.3.x+=d.3.12.x;d.3.y+=d.3.12.y;o b=d.3.x-d.3.w/2,9=d.3.y-d.3.h/2;d.r.s.1j=\'1r\';d.r.s.k=b+\'A\';d.r.s.9=9+\'A\';d.3.k=b;d.3.9=9}I 6(e.S.1L===2){$.M(e);e.1K();o x=T.1c(e.S[0].Y-e.S[1].Y);o y=T.1c(e.S[0].Z-e.S[1].Z);o c=T.2Q(x*x+y*y),23=d.3.23,C=d.3.C,2x=C*(c/23);d.3.C=2x;d.D(2x)}});$.G(d.r,\'44\',8(e){6(e.S.1L===2){}});m d},1V:8(a,b,c){o d=v,W,1u;6(a&&(a.l||a.q)){6(a.l){d.t.s.l=a.l+\'A\'}6(a.q){d.t.s.q=a.q+\'A\'}}I 6(b){W=$.45();1u=$.46(c);d.t.s.l=W.l-(1u?1u.47:0)+\'A\';d.t.s.q=W.q-(1u?1u.48:0)+\'A\'}6(d.3){W=u.1O(d.t);d.3.E={l:W.l,q:W.q,k:W.k,9:W.9};o a=u.2b(W.l,W.q,d.3.l,d.3.q,d.3.1X,d.3.1W);d.3.1y=a.1y;d.3.14=a.14;d.3.C=a.C;d.3.J=a.J}m d},3c:8(p,a){m p.x>=a.k&&p.x<=a.k+a.w&&p.y>=a.9&&p.y<=a.9+a.h}};$.1o({27:8(a,b){m u.2F($.1o(a,{2o:b}))},N:8(a,b){m $.27(a,b)}})}(49);',62,258,'|||cfg|||if|opt|function|top|||||||||||left|width|return||var||height|img|style|box|Factory|this|||||px|parseInt|curScale|scale|offset||addListener|ratio|else|minScale|size|true|cancelBubble|picbox|false|oui||setRatio|touches|Math|margin|pointerdown|bs|let|clientX|clientY||maxScale|diffpointer|null|boxScale|div|magnifier|src|pos|maxZoom|document|className|abs|center|defZoom|lastpointer|selection|rect|showMagnifier|cursor|scaleRatio|getEventPos|startpointer|id|extend|magnifierStyle|fill|move|selectdown|endpointer|ms|Cache|element|update|imgRatio|createElement|innerHTML|appendChild|display|none|hideMagnifier|position|cssText|isNumber|showTitle|status|preventDefault|length|DIV|setImgSize|getOffsetSize|radius|join|magnifierImg|indexOf|showScale|fullScreen|resize|minZoom|defaultZoom|title|dblclick|titlebar|nbsp|targetTop|startDistance|const||Config|picturebox|caches|checkOptions|PictureBox|getSize|showRange|isNullOrUndefined|hideRange|checkRange|isInRange|getBoundingClientRect|border|opacity|elem|css|initial|unselect|callback|touchstart|oncontextmenu|statusbar|pointermove|target|selectdrag|p0|zoom|newScale|FilePath|FileName|getCache|picbox_|setCache|loadCss|toElement|buildPictureBox|range|class|block|getPosition|break|default|zindex|index|custom|getTouchDistance|sqrt|showBorder|150|IMG|picurl|defaultScale|defScale|naturalWidth|naturalHeight|filePath|select|control|drag|wheelZoom|touchZoom|addKeyListener|keyup|100|button|pointerup|pointercancel|selectonpic|onpicture|rangeScale|small|targetX|targetY|outside|use|strict|getScriptSelfPath|timers|loadJsScriptCss|obj|isElement|new|panel|right|bottom|10000|round|switch|case|getElementStyle|getParamCon|childNodes|push|prototype|crosshair|removeChild|overflow|hidden|relative|pic|location|href|http|crossOrigin|anonymous|absolute|padding|cleanSlash|load|getFileSize|fileSize|toFileSize|isFunction|window|getFileName|setPointerCapture|pointerId|pointerout|nodeName|wheel|deltaY|touchmove|touchend|getBodySize|getMarginSize|marginWidth|marginHeight|OUI'.split('|'),0,{}))
