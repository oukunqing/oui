/*
 @Title: oui.picturebox.js
 @Description：自定义图片框插件
 @Author: oukunqing
 @License：MIT
*/

eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('!6($){\'2z 2A\';m k={1X:$.2B(J),},t={1Y:6(a,b){m c=k.1X,1Z=$.20(c,J),1B=$.2C(c);4($.2D(a,J)){1B+=\'2E/\'+a+\'/\'}$.2F(1B+1Z.2G(\'.2H\',\'\')+\'.2I\',6(){4($.21(b)){b()}});o s},1C:6(a,b,c,d,e,f){m w,h,9,7;4(c>d){w=c>a?a*e:c;h=v(w/c*d,10);4(h>b*e){h=b*e;w=v(h/d*c,10)}}N{h=d>b?b*e:d;w=v(h/d*c,10);4(w>a*e){w=a*e;h=v(w/c*d,10)}}9=v((a-w)/2,10);7=v((b-h)/2,10);m g=t.L(c/d),D=t.L(w/c),T=t.L(D/e),G=t.L(T*f);o{l:w,q:h,9:9,7:7,17:g,D:D,T:T,G:G}},1D:6(a,b,c,d){4($.1E(c)){c=18.1e(\'1F\');c.X=\'P-O-22\';c.r.9=a.x+\'C\';c.r.7=a.y+\'C\';c.1f=\'<23 2J="P-O-22-2K"></23>\';d.1g(c)}N 4(b){c.r.9=(a.x<b.x?a.x:b.x)+\'C\';c.r.7=(a.y<b.y?a.y:b.y)+\'C\';c.r.l=19.1h(b.x-a.x)+\'C\';c.r.q=19.1h(b.y-a.y)+\'C\';c.r.24=\'2L\'}o c},1G:6(a){a.r.24=\'1H\';o a},1I:6(a,b){4(a.x<b.9){a.x=b.9}N 4(a.x>b.9+b.w){a.x=b.9+b.w}4(a.y<b.7){a.y=b.7}N 4(a.y>b.7+b.h){a.y=b.7+b.h}o a},1i:6(a){a.u.r.l=a.3.w+\'C\';a.u.r.q=a.3.h+\'C\';a.u.r.9=a.3.9+\'C\';a.u.r.7=a.3.7+\'C\';m b=a.3.l>a.3.z.l||a.3.q>a.3.z.q;o b},1j:6(a){4(a===1a){o{l:0,q:0,9:0,7:0}}m b=$.1j(a);4(!b.l||!b.q){b.l=v(\'0\'+a.r.l,10);b.q=v(\'0\'+a.r.q,10);b.9=v(\'0\'+a.r.9,10);b.7=v(\'0\'+a.r.7,10)}o b},L:6(a,b){4(!b){b=2M}o 19.2N(a*b)/b}};t.1Y();6 1J(a){o s.1K(a)}1J.2O={1K:6(f){m g=s,8=$.1k({26:J,1b:J,1l:J,Z:M,11:0,1L:J},f),1m=M;4(g.u){g.B.2P(g.u);$.1k(g.8,8);1m=J}N{g.8=8}m h=$.2Q(g.8.B||g.8.2R);h.X+=\' P-O-B\';h.r.27+=\'2S:2T;28:2U;\'+(!8.26?\'29:1H;\':\'\');g.B=h;4(g.8.Z){g.1n(1a,g.8.Z,g.8.11)}N{4(g.8.l){h.r.l=g.8.l+\'C\'}4(g.8.q){h.r.q=g.8.q+\'C\'}}m i=18.1e(\'2a\'),2b=g.8.u||g.8.2V;4(2W.2X.1M(\'2Y\')===0){i.2Z=\'30\'}i.X=\'P-O-u P-O-1N\';i.r.27=\'28:31;29:1H;11:0;32:0;\';i.1O=2b.33();g.B.1g(i);g.u=i;m j=$.1o(g.8.G||g.8.1p)?(g.8.G||g.8.1p):1,V=$.1o(g.8.2c||g.8.2d||g.8.1q||g.8.V)?(g.8.2c||g.8.2d||g.8.1q||g.8.V):1,U=$.1o(g.8.S||g.8.U)?(g.8.S||g.8.U):1;4(j<=0||j>1){j=1}4(V<=0||V>1){V=1}4(U<=0||U>5){U=1}$.H(g.u,\'34\',6(c){m d=t.1j(g.B),I=t.1C(d.l,d.q,i.2e,i.2f,V,j);1r.1s(\'I:\',I);g.3={2g:g.u.1O,l:i.2e,q:i.2f,17:I.17,T:I.T,D:I.D,G:I.G,S:U,1p:j,1q:V,U:U,Z:g.8.Z,11:g.8.11,w:I.l,h:I.q,9:I.9,7:I.7,x:v(I.l/2+I.9,10),y:v(I.q/2+I.7,10),z:{l:d.l,q:d.q,9:d.9,7:d.7},1l:g.8.1l,1b:g.8.1b};t.1i(g);4(!1m){g.2h().2i()}g.2j().2k().1c().1t();$.35(g.3.2g,6(a){m b=a>=0?a:(8.36||0);b=b>0?b.37(2):\'\';g.1t(1a,b)});4($.21(g.8.1P)){g.8.1P(g,g.3)}});$.H(38,\'1n\',6(){g.1n(1a,g.8.Z,g.8.11)});4(g.8.1L){$.39(18,\'3a\',\'F\',6(e,n){$.1L(g.B)},J)}o s},1m:6(a){o s.1K(a)},2i:6(){m a=s;m b=18.1e(\'1F\');b.X=\'P-O-1t P-O-1N\';$.H(b,\'1u\',6(){$.K();a.A(a.3.T).12()});b.1Q=6(){a.A(1).12();o M};a.1v=b;a.B.1g(b);m c=18.1e(\'1F\');c.X=\'P-O-1c P-O-1N\';$.H(c,\'1u\',6(){$.K();a.12()});a.1R=c;a.B.1g(c);4(!a.3.1b){c.1Q=6(){a.A(1).12();o M}}o s},1t:6(a,b){m c=s;4(!c.1v||!c.3.1b){o c}4($.1E(a)){m d=[\'&1w;\',\'[\',c.3.l,\'×\',c.3.q,\'] \',(b?\'[\'+b+\'] \':\'\'),$.20(c.u.1O),\'&1w;\',\'\'];c.1v.1f=d.2l(\'\');o c}c.1v.1f=a||\'\';o s},1c:6(){m a=s;4(!a.1R||!a.3.1l){o a}m b=t.L(a.3.l/a.3.w,2m);m c=[\'1:\',b];4(b<1){b=t.L(1/b,2m);c=[b,\':1\']}a.1R.1f=\'&1w;\'+c.2l(\'\')+\'&1w;\';o s},2j:6(){m d=s;$.H(d.u,\'Q\',6(a){4(0==a.2n){1r.1s(\'3b Q\',a);$.K(a);d.3.Q=J;d.u.3c(a.3d);d.3.1x=$.13(a);d.3.1d={x:0,y:0};1r.1s(\'3e:\',d.3.x,d.3.y)}});$.H(d.u,\'2o\',6(a){4(d.3.Q){$.K(a);4(a.1S.X.1M(\'P-O-u\')<0){o M}m b=$.13(a);d.3.1d.x=b.x-d.3.1x.x;d.3.1d.y=b.y-d.3.1x.y;d.3.1x={x:b.x,y:b.y};d.3.x+=d.3.1d.x;d.3.y+=d.3.1d.y;m c=d.3.x-d.3.w/2,7=d.3.y-d.3.h/2;d.u.r.9=c+\'C\';d.u.r.7=7+\'C\';d.3.9=c;d.3.7=7}a.1y()});$.H(d.u,\'2p\',6(a){4(d.3.Q){$.K(a);d.3.Q=M}});$.H(d.u,\'3f\',6(a){4(d.3.Q){$.K(a);d.3.Q=M}});$.H(d.u,\'2q\',6(a){4(d.3.Q){$.K(a);d.3.Q=M}});o s},2h:6(){m c=s;c.B.1Q=6(a){4(c.3.1T||!c.3.2r||a.1S.3g!==\'2a\'){o M}};$.H(c.B,\'Q\',6(a){4(2==a.2n){$.K(a);m b=$.13(a);c.3.14=J;c.3.1T=M;c.3.Y={x:b.x-c.3.z.9,y:b.y-c.3.z.7};c.3.W=t.1D(c.3.Y,1a,c.3.W,c.B);c.3.2r=c.2s(c.3.Y,c.3)}});$.H(c.B,\'2o\',6(a){4(c.3.14){$.K(a);m b=$.13(a);c.3.15={x:b.x-c.3.z.9,y:b.y-c.3.z.7};c.3.W=t.1D(c.3.Y,c.3.15,c.3.W,c.B)}a.1y()});$.H(c.B,\'2p\',6(a){4(c.3.14){$.K(a);m b=$.13(a);c.3.14=M;c.3.15={x:b.x-c.3.z.9,y:b.y-c.3.z.7};c.3.Y=t.1I(c.3.Y,c.3);c.3.15=t.1I(c.3.15,c.3);c.3.W=t.1G(c.3.W);c.2t(c.3.Y,c.3.15)}});$.H(c.B,\'2q\',6(a){4(c.3.14){$.K(a);c.3.W=t.1G(c.3.W);c.3.14=M}});o s},2t:6(a,b){m c=s;4(a.x===b.x&&a.y===b.y){o c}c.3.1T=J;m w=19.1h(a.x-b.x),h=19.1h(a.y-b.y),2u=a.x>b.x&&a.y>b.y,A=c.3.D,9,7,E,1U={x:a.x<b.x?a.x:b.x,y:a.y<b.y?a.y:b.y};4(2u){E=0.5}N 4(w>=h){E=t.L(c.3.z.l/w);4(h*E>c.3.z.q){E=t.L(c.3.z.q/h)}}N{E=t.L(c.3.z.q/h);4(w*E>c.3.z.l){E=t.L(c.3.z.l/w)}}A=E*c.3.D;4(A<c.3.G){A=c.3.G}N 4(A>c.3.S){A=c.3.S}E=A/c.3.D;9=(c.3.9-1U.x)*E-(w*E-c.3.z.l)/2;7=(c.3.7-1U.y)*E-(h*E-c.3.z.q)/2;c.3.9=v(9,10);c.3.7=v(7,10);o c.A(A)},A:6(a){m b=s;4(a<b.3.G){a=b.3.G}N 4(a>b.3.S){a=b.3.S}b.3.D=t.L(a);b.3.w=v(b.3.l*a,10);b.3.h=v(b.3.q*a,10);b.3.x=b.3.9+b.3.w/2;b.3.y=b.3.7+b.3.h/2;t.1i(b);o s.1c().1z()},1V:6(a,b,c){m d=s,w=v(d.u.r.l,10),h=v(d.u.r.q,10),E=$.1o(c)?c:1.1,A=d.3.D;4((!a&&A<=d.3.G)||(a&&A>=d.3.S)){o s}4(!a){E=1/E}A=t.L(w*E/d.3.l);4(A<d.3.G){A=d.3.G}N 4(A>d.3.S){A=d.3.S}w=v(d.3.l*A,10);h=v(d.3.q*A,10);4(b){m e=b.1S,1W=$.13(b);4(e.X.1M(\'P-O-u\')>=0){d.3.x-=(w-d.3.w)/d.3.w*(1W.x-d.3.x-d.3.z.9);d.3.y-=(h-d.3.h)/d.3.h*(1W.y-d.3.y-d.3.z.7)}}d.3.w=w;d.3.h=h;d.3.9=d.3.x-w/2;d.3.7=d.3.y-h/2;d.3.D=A;t.1i(d);o s.1c().1z()},12:6(a){m b=s;4($.1E(a)){a={x:v(b.3.w/2,10)/b.3.D,y:v(b.3.h/2,10)/b.3.D};1r.1s(\'8:\',a)}m x=b.3.D*a.x,y=b.3.D*a.y,w=b.3.w,h=b.3.h,2v=b.3.z.l/2,2w=b.3.z.q/2;m c=v(2v-x,10),1A=v(2w-y,10);b.3.9=c;b.3.7=1A;b.3.x=v(c+w/2,10);b.3.y=v(1A+h/2,10);b.u.r.9=c+\'C\';b.u.r.7=1A+\'C\';o s.1z()},1z:6(){o s},2x:6(){m a=s;4((a.3.w+a.3.9<=0)||(a.3.h+a.3.7<=0)||(a.3.9>=a.3.z.l)||(a.3.7>=a.3.z.q)){o J}o M},2k:6(){m b=s;$.H(b.B,\'3h\',6(a){$.K(a);b.1V(a.3i<0,a)});$.H(b.B,\'1u\',6(a){$.K(a);4(b.2x()){b.12()}a.1y()});$.H(b.u,\'1u\',6(a){$.K(a);b.1V(J,a,1.25);a.1y()});o s},1n:6(a,b,c){m d=s,R,16;4(a&&(a.l||a.q)){4(a.l){d.B.r.l=a.l+\'C\'}4(a.q){d.B.r.q=a.q+\'C\'}}N 4(b){R=$.3j();16=$.3k(c);d.B.r.l=R.l-(16?16.3l:0)+\'C\';d.B.r.q=R.q-(16?16.3m:0)+\'C\'}4(d.3){R=t.1j(d.B);d.3.z={l:R.l,q:R.q,9:R.9,7:R.7};m a=t.1C(R.l,R.q,d.3.l,d.3.q,d.3.1q,d.3.1p);d.3.17=a.17;d.3.T=a.T;d.3.D=a.D;d.3.G=a.G}o s},2s:6(p,a){o p.x>=a.9&&p.x<=a.9+a.w&&p.y>=a.7&&p.y<=a.7+a.h}};$.1k({2y:6(a,b){o 3n 1J($.1k(a,{1P:b}))},O:6(a,b){o $.2y(a,b)}})}(3o);',62,211,'|||cfg|if||function|top|opt|left||||||||||||width|var||return||height|style|this|Factory|img|parseInt||||offset|scale|box|px|curScale|ratio||minScale|addListener|size|true|cancelBubble|setRatio|false|else|picbox|oui|pointerdown|bs|maxScale|boxScale|maxZoom|defZoom|selection|className|startpointer|fill||margin|center|getEventPos|selectdown|endpointer|ms|imgRatio|document|Math|null|showTitle|status|diffpointer|createElement|innerHTML|appendChild|abs|setImgSize|getOffsetSize|extend|showScale|update|resize|isNumber|minZoom|defaultZoom|console|log|title|dblclick|titlebar|nbsp|lastpointer|preventDefault|move|targetTop|dir|getSize|showRange|isNullOrUndefined|DIV|hideRange|none|checkRange|PictureBox|initial|fullScreen|indexOf|unselect|src|callback|oncontextmenu|statusbar|target|selectdrag|p0|zoom|pos|FilePath|loadCss|name|getFileName|isFunction|range|div|display||showBorder|cssText|position|border|IMG|picurl|defaultScale|defScale|naturalWidth|naturalHeight|filePath|select|control|drag|wheelZoom|join|100|button|pointermove|pointerup|pointercancel|selectonpic|onpicture|rangeScale|small|targetX|targetY|outside|picturebox|use|strict|getScriptSelfPath|getFilePath|isString|skin|loadLinkStyle|replace|min|css|class|panel|block|10000|round|prototype|removeChild|toElement|obj|overflow|hidden|relative|pic|location|href|http|crossOrigin|anonymous|absolute|padding|cleanSlash|load|getFileSize|fileSize|toFileSize|window|addKeyListener|keyup|map|setPointerCapture|pointerId|down|pointerout|nodeName|wheel|deltaY|getBodySize|getMarginSize|marginWidth|marginHeight|new|OUI'.split('|'),0,{}))
