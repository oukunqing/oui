/*
 @Title: oui.picturebox.js
 @Description：自定义图片框插件
 @Author: oukunqing
 @License：MIT
*/

eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('!6($){\'2p 2q\';8 k={1N:$.2r(K),},s={1O:6(a,b){8 c=k.1N,1P=$.1Q(c,K),1q=$.2s(c);4($.2t(a,K)){1q+=\'2u/\'+a+\'/\'}$.2v(1q+1P.2w(\'.2x\',\'\')+\'.2y\',6(){4($.1R(b)){b()}});l q},1r:6(a,b,c,d,e,f){8 w,h,9,7;4(c>d){w=c>a?a*e:c;h=u(w/c*d,10);4(h>b*e){h=b*e;w=u(h/d*c,10)}}N{h=d>b?b*e:d;w=u(h/d*c,10);4(w>a*e){w=a*e;h=u(w/c*d,10)}}9=u((a-w)/2,10);7=u((b-h)/2,10);8 g=s.H(c/d),B=s.H(w/c),P=s.H(B/e),E=s.H(P*f);l{m:w,o:h,9:9,7:7,Z:g,B:B,P:P,E:E}},1s:6(a,b,c,d){4($.1t(c)){c=14.15(\'1u\');c.T=\'L-I-1S\';c.r.9=a.x+\'C\';c.r.7=a.y+\'C\';c.16=\'<1T 2z="L-I-1S-2A"></1T>\';d.17(c)}N 4(b){c.r.9=(a.x<b.x?a.x:b.x)+\'C\';c.r.7=(a.y<b.y?a.y:b.y)+\'C\';c.r.m=11.18(b.x-a.x)+\'C\';c.r.o=11.18(b.y-a.y)+\'C\';c.r.1U=\'2B\'}l c},1v:6(a){a.r.1U=\'1V\';l a},1w:6(a,b){4(a.x<b.9){a.x=b.9}N 4(a.x>b.9+b.w){a.x=b.9+b.w}4(a.y<b.7){a.y=b.7}N 4(a.y>b.7+b.h){a.y=b.7+b.h}l a},19:6(a){a.t.r.m=a.3.w+\'C\';a.t.r.o=a.3.h+\'C\';a.t.r.9=a.3.9+\'C\';a.t.r.7=a.3.7+\'C\';8 b=a.3.m>a.3.v.m||a.3.o>a.3.v.o;l b},1a:6(a){4(a===1x){l{m:0,o:0,9:0,7:0}}8 b=$.1a(a);4(!b.m||!b.o){b.m=u(\'0\'+a.r.m,10);b.o=u(\'0\'+a.r.o,10);b.9=u(\'0\'+a.r.9,10);b.7=u(\'0\'+a.r.7,10)}l b},H:6(a,b){4(!b){b=2C}l 11.2D(a*b)/b}};s.1O();6 1y(a){l q.1z(a)}1y.2E={1z:6(f){8 g=q,n=f,1b=J;4(g.t){g.A.2F(g.t);$.1A(g.n,n);1b=K}N{g.n=n}8 h=$.2G(g.n.A||g.n.2H);4(g.n.m){h.r.m=g.n.m+\'C\'}4(g.n.o){h.r.o=g.n.o+\'C\'}h.T+=\' L-I-A\';h.r.1W+=\'2I:2J;1X:2K;\';g.A=h;8 i=14.15(\'1Y\'),1Z=g.n.t||g.n.2L;4(2M.2N.1B(\'2O\')===0){i.2P=\'2Q\'}i.T=\'L-I-t L-I-1C\';i.r.1W=\'1X:2R;2S:1V;2T:0;2U:0;\';i.1D=1Z.2V();g.A.17(i);g.t=i;8 j=$.1c(g.n.E||g.n.1d)?(g.n.E||g.n.1d):1,R=$.1c(g.n.20||g.n.21||g.n.1e||g.n.R)?(g.n.20||g.n.21||g.n.1e||g.n.R):1,Q=$.1c(g.n.O||g.n.Q)?(g.n.O||g.n.Q):1;4(j<=0||j>1){j=1}4(R<=0||R>1){R=1}4(Q<=0||Q>5){Q=1}$.F(g.t,\'2W\',6(c){8 d=s.1a(g.A);8 e=s.1r(d.m,d.o,i.22,i.23,R,j);1f.1g(\'2X:\',e);g.3={24:g.t.1D,m:i.22,o:i.23,Z:e.Z,P:e.P,B:e.B,E:e.E,O:Q,1d:j,1e:R,Q:Q,w:e.m,h:e.o,9:e.9,7:e.7,x:u(e.m/2+e.9,10),y:u(e.o/2+e.7,10),v:{m:d.m,o:d.o,9:d.9,7:d.7},1E:$.26(g.n.1E,K),1h:$.26(g.n.1h,K)};s.19(g);4(!1b){g.27().28()}g.29().2a().12().1i();$.2Y(g.3.24,6(a){8 b=a>=0?a:(n.2Z||0);b=b>0?b.30(2):\'\';g.1i(1x,b)});4($.1R(g.n.1F)){g.n.1F(g,g.3)}});l q},1b:6(a){l q.1z(a)},28:6(){8 a=q;8 b=14.15(\'1u\');b.T=\'L-I-1i L-I-1C\';$.F(b,\'1j\',6(){$.G();a.z(a.3.P).V()});b.1G=6(){a.z(1).V();l J};a.1k=b;a.A.17(b);8 c=14.15(\'1u\');c.T=\'L-I-12 L-I-1C\';$.F(c,\'1j\',6(){$.G();a.V()});a.1H=c;a.A.17(c);4(!a.3.1h){c.1G=6(){a.z(1).V();l J}}l q},1i:6(a,b){8 c=q;4(!c.1k||!c.3.1h){l c}4($.1t(a)){8 d=[\'&1l;\',\'[\',c.3.m,\'×\',c.3.o,\'] \',(b?\'[\'+b+\'] \':\'\'),$.1Q(c.t.1D),\'&1l;\',\'\'];c.1k.16=d.2b(\'\');l c}c.1k.16=a||\'\';l q},12:6(){8 a=q;4(!a.1H||!a.3.1E){l a}8 b=s.H(a.3.m/a.3.w,2c);8 c=[\'1:\',b];4(b<1){b=s.H(1/b,2c);c=[b,\':1\']}a.1H.16=\'&1l;\'+c.2b(\'\')+\'&1l;\';l q},29:6(){8 d=q;$.F(d.t,\'M\',6(a){4(0==a.2d){1f.1g(\'31 M\',a);$.G(a);d.3.M=K;d.t.32(a.33);d.3.1m=$.W(a);d.3.13={x:0,y:0};1f.1g(\'34:\',d.3.x,d.3.y)}});$.F(d.t,\'2e\',6(a){4(d.3.M){$.G(a);4(a.1I.T.1B(\'L-I-t\')<0){l J}8 b=$.W(a);d.3.13.x=b.x-d.3.1m.x;d.3.13.y=b.y-d.3.1m.y;d.3.1m={x:b.x,y:b.y};d.3.x+=d.3.13.x;d.3.y+=d.3.13.y;8 c=d.3.x-d.3.w/2,7=d.3.y-d.3.h/2;d.t.r.9=c+\'C\';d.t.r.7=7+\'C\';d.3.9=c;d.3.7=7}a.1n()});$.F(d.t,\'2f\',6(a){4(d.3.M){$.G(a);d.3.M=J}});$.F(d.t,\'35\',6(a){4(d.3.M){$.G(a);d.3.M=J}});$.F(d.t,\'2g\',6(a){4(d.3.M){$.G(a);d.3.M=J}});l q},27:6(){8 c=q;c.A.1G=6(a){4(c.3.1J||!c.3.2h||a.1I.36!==\'1Y\'){l J}};$.F(c.A,\'M\',6(a){4(2==a.2d){$.G(a);8 b=$.W(a);c.3.X=K;c.3.1J=J;c.3.U={x:b.x-c.3.v.9,y:b.y-c.3.v.7};c.3.S=s.1s(c.3.U,1x,c.3.S,c.A);c.3.2h=c.2i(c.3.U,c.3)}});$.F(c.A,\'2e\',6(a){4(c.3.X){$.G(a);8 b=$.W(a);c.3.Y={x:b.x-c.3.v.9,y:b.y-c.3.v.7};c.3.S=s.1s(c.3.U,c.3.Y,c.3.S,c.A)}a.1n()});$.F(c.A,\'2f\',6(a){4(c.3.X){$.G(a);8 b=$.W(a);c.3.X=J;c.3.Y={x:b.x-c.3.v.9,y:b.y-c.3.v.7};c.3.U=s.1w(c.3.U,c.3);c.3.Y=s.1w(c.3.Y,c.3);c.3.S=s.1v(c.3.S);c.2j(c.3.U,c.3.Y)}});$.F(c.A,\'2g\',6(a){4(c.3.X){$.G(a);c.3.S=s.1v(c.3.S);c.3.X=J}});l q},2j:6(a,b){8 c=q;4(a.x===b.x&&a.y===b.y){l c}c.3.1J=K;8 w=11.18(a.x-b.x),h=11.18(a.y-b.y),2k=a.x>b.x&&a.y>b.y,z=c.3.B,9,7,D,1K={x:a.x<b.x?a.x:b.x,y:a.y<b.y?a.y:b.y};4(2k){D=0.5}N 4(w>=h){D=s.H(c.3.v.m/w);4(h*D>c.3.v.o){D=s.H(c.3.v.o/h)}}N{D=s.H(c.3.v.o/h);4(w*D>c.3.v.m){D=s.H(c.3.v.m/w)}}z=D*c.3.B;4(z<c.3.E){z=c.3.E}N 4(z>c.3.O){z=c.3.O}D=z/c.3.B;9=(c.3.9-1K.x)*D-(w*D-c.3.v.m)/2;7=(c.3.7-1K.y)*D-(h*D-c.3.v.o)/2;c.3.9=u(9,10);c.3.7=u(7,10);l c.z(z)},z:6(a){8 b=q;4(a<b.3.E){a=b.3.E}N 4(a>b.3.O){a=b.3.O}b.3.B=s.H(a);b.3.w=u(b.3.m*a,10);b.3.h=u(b.3.o*a,10);b.3.x=b.3.9+b.3.w/2;b.3.y=b.3.7+b.3.h/2;s.19(b);l q.12().1o()},1L:6(a,b,c){8 d=q,w=u(d.t.r.m,10),h=u(d.t.r.o,10),D=$.1c(c)?c:1.1,z=d.3.B;4((!a&&z<=d.3.E)||(a&&z>=d.3.O)){l q}4(!a){D=1/D}z=s.H(w*D/d.3.m);4(z<d.3.E){z=d.3.E}N 4(z>d.3.O){z=d.3.O}w=u(d.3.m*z,10);h=u(d.3.o*z,10);4(b){8 e=b.1I,1M=$.W(b);4(e.T.1B(\'L-I-t\')>=0){d.3.x-=(w-d.3.w)*(1M.x-d.3.x-d.3.v.9)/d.3.w;d.3.y-=(h-d.3.h)*(1M.y-d.3.y-d.3.v.7)/d.3.h}}d.3.w=w;d.3.h=h;d.3.9=d.3.x-w/2;d.3.7=d.3.y-h/2;d.3.B=z;s.19(d);l q.12().1o()},V:6(a){8 b=q;4($.1t(a)){a={x:u(b.3.w/2,10)/b.3.B,y:u(b.3.h/2,10)/b.3.B};1f.1g(\'n:\',a)}8 x=b.3.B*a.x,y=b.3.B*a.y,w=b.3.w,h=b.3.h,2l=b.3.v.m/2,2m=b.3.v.o/2;8 c=u(2l-x,10),1p=u(2m-y,10);b.3.9=c;b.3.7=1p;b.3.x=u(c+w/2,10);b.3.y=u(1p+h/2,10);b.t.r.9=c+\'C\';b.t.r.7=1p+\'C\';l q.1o()},1o:6(){l q},2n:6(){8 a=q;4((a.3.w+a.3.9<=0)||(a.3.h+a.3.7<=0)||(a.3.9>=a.3.v.m)||(a.3.7>=a.3.v.o)){l K}l J},2a:6(){8 b=q;$.F(b.A,\'37\',6(a){$.G(a);b.1L(a.38<0,a)});$.F(b.A,\'1j\',6(a){$.G(a);4(b.2n()){b.V()}a.1n()});$.F(b.t,\'1j\',6(a){$.G(a);b.1L(K,a,1.25);a.1n()});l q},39:6(a){8 b=q;b.A.r.m=a.m+\'C\';b.A.r.o=a.o+\'C\';4(b.3){8 c=s.1a(b.A);b.3.v={m:c.m,o:c.o,9:c.9,7:c.7};8 a=s.1r(c.m,c.o,b.3.m,b.3.o,b.3.1e,b.3.1d);b.3.Z=a.Z;b.3.P=a.P;b.3.B=a.B;b.3.E=a.E}l q},2i:6(p,a){l p.x>=a.9&&p.x<=a.9+a.w&&p.y>=a.7&&p.y<=a.7+a.h}};$.1A({2o:6(a,b){l 3a 1y($.1A(a,{1F:b}))},I:6(a,b){l $.2o(a,b)}})}(3b);',62,198,'|||cfg|if||function|top|var|left||||||||||||return|width|opt|height||this|style|Factory|img|parseInt|offset||||scale|box|curScale|px|ratio|minScale|addListener|cancelBubble|setRatio|picbox|false|true|oui|pointerdown|else|maxScale|boxScale|maxZoom|defZoom|selection|className|startpointer|center|getEventPos|selectdown|endpointer|imgRatio||Math|status|diffpointer|document|createElement|innerHTML|appendChild|abs|setImgSize|getOffsetSize|update|isNumber|minZoom|defaultZoom|console|log|showTitle|title|dblclick|titlebar|nbsp|lastpointer|preventDefault|move|targetTop|dir|getSize|showRange|isNullOrUndefined|DIV|hideRange|checkRange|null|PictureBox|initial|extend|indexOf|unselect|src|showScale|callback|oncontextmenu|statusbar|target|selectdrag|p0|zoom|pos|FilePath|loadCss|name|getFileName|isFunction|range|div|display|none|cssText|position|IMG|picurl|defaultScale|defScale|naturalWidth|naturalHeight|filePath||isBoolean|select|control|drag|wheelZoom|join|100|button|pointermove|pointerup|pointercancel|selectonpic|onpicture|rangeScale|small|targetX|targetY|outside|picturebox|use|strict|getScriptSelfPath|getFilePath|isString|skin|loadLinkStyle|replace|min|css|class|panel|block|10000|round|prototype|removeChild|toElement|obj|overflow|hidden|relative|pic|location|href|http|crossOrigin|anonymous|absolute|border|margin|padding|cleanSlash|load|size|getFileSize|fileSize|toFileSize|map|setPointerCapture|pointerId|down|pointerout|nodeName|wheel|deltaY|resize|new|OUI'.split('|'),0,{}))
