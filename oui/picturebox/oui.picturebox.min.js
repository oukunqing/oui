/*
 @Title: oui.picturebox.js
 @Description：自定义图片框插件
 @Author: oukunqing
 @License：MIT
*/

eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('!8($){\'3a 3b\';3c 21={2s:$.3d(K),2t:\'P.22.\'},1n={23:{},3e:{},M:{},2u:8(a){m 1n.23[\'2v\'+a]},2w:8(a,b){1n.23[\'2v\'+a]={1e:a,t:b,};m v}},u={2x:8(a,b){$.3f(21.2s,a,b,21.2t);m v},24:8(a){V 6=$.1f({},a);6.1o=$.2y(6.1o||6.t||6.3g||6.1e);7(!$.3h(6.1o)){m X}6.1e=6.1o.1e;m 6},2z:8(a){V 6=u.24(a);7(6===X){m X}s b=1n.2u(6.1e),t;7(b){t=b.t;t.1p(6)}L{t=3i 26(6);1n.2w(6.1e,t)}m t},27:8(a,b,c,d,e,f){s w,h,k,9;7(c>d){w=c>a?a*e:c;h=B(w/c*d,10);7(h>b*e){h=b*e;w=B(h/d*c,10)}}L{h=d>b?b*e:d;w=B(h/d*c,10);7(w>a*e){w=a*e;h=B(w/c*d,10)}}k=B((a-w)/2,10);9=B((b-h)/2,10);s g=u.R(c/d),E=u.R(w/c),Y=u.R(E/e),I=u.R(Y*f);m{l:w,o:h,k:k,9:9,1q:g,E:E,Y:Y,I:I}},28:8(a,b,c,d){7($.29(c)){c=15.1r(\'1H\');c.16=\'P-M-2A\';c.q.k=a.x+\'A\';c.q.9=a.y+\'A\';c.1s=\'<Z 2B="P-M-2A-3j"></Z>\';d.1t(c)}L 7(b){c.q.k=(a.x<b.x?a.x:b.x)+\'A\';c.q.9=(a.y<b.y?a.y:b.y)+\'A\';c.q.l=1u.1I(b.x-a.x)+\'A\';c.q.o=1u.1I(b.y-a.y)+\'A\';c.q.1v=\'2C\'}m c},2a:8(a){a.q.1v=\'1w\';m a},2b:8(a,b){7(a.x<b.k){a.x=b.k}L 7(a.x>b.k+b.w){a.x=b.k+b.w}7(a.y<b.9){a.y=b.9}L 7(a.y>b.9+b.h){a.y=b.9+b.h}m a},2c:8(a,b){V 1a=b.2d(),x=a.1x,y=a.1y;7(x>=1a.k&&x<=1a.3k&&y>=1a.9&&y<=1a.3l){m K}m N},1J:8(a){a.r.q.l=a.3.w+\'A\';a.r.q.o=a.3.h+\'A\';a.r.q.k=a.3.k+\'A\';a.r.q.9=a.3.9+\'A\';s b=a.3.l>a.3.C.l||a.3.o>a.3.C.o;7(a.3.E>=1){v.1z(a)}m b},1K:8(a){7(a===X){m{l:0,o:0,k:0,9:0}}s b=$.1K(a);7(!b.l||!b.o){b.l=B(\'0\'+a.q.l,10);b.o=B(\'0\'+a.q.o,10);b.k=B(\'0\'+a.q.k,10);b.9=B(\'0\'+a.q.9,10)}m b},R:8(a,b){7(!b){b=3m}m 1u.3n(a*b)/b},2D:8(a,b,c){V S=2,k=a.1x-c.k+S,9=a.1y-c.9+S;3o(b.1A){3p\'17\':k=a.1x-c.k-b.l/2;9=a.1y-c.9-b.o/2;2E;2F:7(k+b.l>=c.l){k=a.1x-c.k-b.l-S}7(9+b.o>=c.o){9=a.1y-c.9-b.o-S}2E}m{k:k,9:9}},1b:8(a,b){V 3=b.3,6=3.1g,1a=b.t.2d();7(!3.1b||3.E>=1||b.3.T||!v.2c(a,b.r)||!v.2c(a,b.t)){v.1z(b);m v}b.r.q.1h=6.1h;7(!b.11){V Z=15.1r(\'1H\'),2G=$.3q(b.r,\'z-2H\'),1L=$.3r(6.1L,(6.l+6.o)/4);Z.16=\'P-M-11\';Z.q.1B=[\'l:\',6.l,\'A;o:\',6.l,\'A;\',\'2e-1L:\',1L,\'A;\',$.1C(6.2f)?\'2f:\'+6.2f+\';\':\'\',\'z-2H:\',(2G+1),\';\'].1M(\'\')+6.1B;Z.1s=\'<r 2B="11-r" 12="\'+b.r.12+\'" />\';b.t.1t(Z);b.11=Z;b.1N=Z.3s[0]}L 7(b.11.q.1v===\'1w\'){7(b.1N.12!==b.r.12){b.1N.12=b.r.12}b.11.q.1v=\'2C\'}V 2g=b.11,r=b.1N;7([\'2I\',\'1h\',\'17\'].1O(6.1A)>-1){V 13=u.2D(a,6,1a);2g.q.k=13.k+\'A\';2g.q.9=13.9+\'A\'}V J=b.r.2d(),13={x:a.1x-J.k,y:a.1y-J.9},1c=3.E/6.1c,2h=[\'k:\',-13.x/1c+6.l/2,\'A;\',\'9:\',-13.y/1c+6.o/2,\'A;\'];7(6.1c>1){2h.3t(\'l:\',3.l*6.1c,\'A;\')}r.q.1B=2h.1M(\'\')},1z:8(a){7(a.11){a.11.q.1v=\'1w\';a.r.q.1h=\'2F\'}}};u.2x();8 26(a){m v.2i(a)}26.3u={2i:8(f){s g=v,6=$.1f({2J:K,1D:K,1P:K,1i:N,S:0,1Q:K,1b:K,1g:X},f),1p=N;6.1g=$.1f({l:2K,o:2K,1c:1,1h:\'3v\',1A:\'2I\'},f.1g);7(g.r){g.t.3w(g.r);$.1f(g.6,6);1p=K}L{g.6=6}s h=$.2y(g.6.1o);h.16+=\' P-M-t\';h.q.1B+=\'3x:3y;1A:3z;\'+(!6.2J?\'2e:1w;\':\'\');g.t=h;7(g.6.1i){g.1R(X,g.6.1i,g.6.S)}L{7(g.6.l){h.q.l=g.6.l+\'A\'}7(g.6.o){h.q.o=g.6.o+\'A\'}}s i=15.1r(\'2L\'),2M=g.6.r||g.6.3A;7(3B.3C.1O(\'3D\')===0){i.3E=\'3F\'}i.16=\'P-M-r P-M-2j\';i.q.1B=\'1A:3G;2e:1w;S:0;3H:0;\';i.12=2M.3I();g.t.1t(i);g.r=i;s j=$.1C(g.6.I||g.6.1S)?(g.6.I||g.6.1S):1,18=$.1C(g.6.2N||g.6.2O||g.6.1T||g.6.18)?(g.6.2N||g.6.2O||g.6.1T||g.6.18):1,14=$.1C(g.6.W||g.6.14)?(g.6.W||g.6.14):1;7(j<=0||j>1){j=1}7(18<=0||18>1){18=1}7(14<=0||14>5){14=1}$.H(g.r,\'3J\',8(c){s d=u.1K(g.t),J=u.27(d.l,d.o,i.2P,i.2Q,18,j);g.3={2R:g.r.12,l:i.2P,o:i.2Q,1q:J.1q,Y:J.Y,E:J.E,I:J.I,W:14,1S:j,1T:18,14:14,1i:g.6.1i,S:g.6.S,w:J.l,h:J.o,k:J.k,9:J.9,x:B(J.l/2+J.k,10),y:B(J.o/2+J.9,10),C:{l:d.l,o:d.o,k:d.k,9:d.9},1P:g.6.1P,1D:g.6.1D,1b:g.6.1b,1g:g.6.1g};u.1J(g);7(!1p){g.2S().2T()}g.2U().2V().2W().1E().1U();$.3K(g.3.2R,8(a){s b=a>=0?a:(6.3L||0);b=b>0?b.3M(2):\'\';g.1U(X,b)});7($.3N(g.6.2k)){g.6.2k(g,g.3)}});$.H(3O,\'1R\',8(){g.1R(X,g.6.1i,g.6.S)});7(g.6.1Q){$.2X(15,\'2Y\',\'F\',8(e,n){$.1Q(g.t)},K);$.2X(15,\'2Y\',\'Q\',8(e,n){$.1Q(g.t)},K)}m v},1p:8(a){V 6=u.24(a);7(6){m v.2i(6)}m v},2T:8(){s a=v;s b=15.1r(\'1H\');b.16=\'P-M-1U P-M-2j\';$.H(b,\'1V\',8(){$.O();a.D(a.3.Y).17()});b.2l=8(){a.D(1).17();m N};a.1W=b;a.t.1t(b);s c=15.1r(\'1H\');c.16=\'P-M-1E P-M-2j\';$.H(c,\'1V\',8(){$.O();a.17()});a.2m=c;a.t.1t(c);7(!a.3.1D){c.2l=8(){a.D(1).17();m N}}m v},1U:8(a,b){s c=v;7(!c.1W||!c.3.1D){m c}7($.29(a)){s d=[\'&1X;\',\'[\',c.3.l,\'×\',c.3.o,\'] \',(b?\'[\'+b+\'] \':\'\'),$.3P(c.r.12),\'&1X;\',\'\'];c.1W.1s=d.1M(\'\');m c}c.1W.1s=a||\'\';m v},1E:8(){s a=v;7(!a.2m||!a.3.1P){m a}s b=u.R(a.3.l/a.3.w,2Z);s c=[\'1:\',b];7(b<1){b=u.R(1/b,2Z);c=[b,\':1\']}a.2m.1s=\'&1X;\'+c.1M(\'\')+\'&1X;\';m v},2U:8(){s d=v;$.H(d.r,\'T\',8(a){7(0==a.30){$.O(a);d.3.T=K;d.r.3Q(a.3R);d.3.1Y=$.1j(a);d.3.1F={x:0,y:0}}});$.H(d.r,\'2n\',8(a){7(d.3.T){$.O(a);7(a.2o.16.1O(\'P-M-r\')<0){m N}u.1z(d);s b=$.1j(a);d.3.1F.x=b.x-d.3.1Y.x;d.3.1F.y=b.y-d.3.1Y.y;d.3.1Y={x:b.x,y:b.y};d.3.x+=d.3.1F.x;d.3.y+=d.3.1F.y;s c=d.3.x-d.3.w/2,9=d.3.y-d.3.h/2;d.r.q.1h=\'1G\';d.r.q.k=c+\'A\';d.r.q.9=9+\'A\';d.3.k=c;d.3.9=9}a.1Z()});7(d.3.1b){$.H([d.t,15],\'2n\',8(a){u.1b(a,d)})}$.H(d.r,\'31\',8(a){7(d.3.T){$.O(a);d.3.T=N}});$.H(d.r,\'3S\',8(a){7(d.3.T){$.O(a);d.3.T=N}L{u.1z(d)}});$.H(d.r,\'32\',8(a){7(d.3.T){$.O(a);d.3.T=N}});m v},2S:8(){s c=v;c.t.2l=8(a){7(c.3.2p||!c.3.33||a.2o.3T!==\'2L\'){m N}};$.H(c.t,\'T\',8(a){7(2==a.30){$.O(a);s b=$.1j(a);c.3.1k=K;c.3.2p=N;c.3.1d={x:b.x-c.3.C.k,y:b.y-c.3.C.9};c.3.19=u.28(c.3.1d,X,c.3.19,c.t);c.3.33=c.34(c.3.1d,c.3)}});$.H(c.t,\'2n\',8(a){7(c.3.1k){$.O(a);s b=$.1j(a);c.3.1l={x:b.x-c.3.C.k,y:b.y-c.3.C.9};c.3.19=u.28(c.3.1d,c.3.1l,c.3.19,c.t)}a.1Z()});$.H(c.t,\'31\',8(a){7(c.3.1k){$.O(a);s b=$.1j(a);c.3.1k=N;c.3.1l={x:b.x-c.3.C.k,y:b.y-c.3.C.9};c.3.1d=u.2b(c.3.1d,c.3);c.3.1l=u.2b(c.3.1l,c.3);c.3.19=u.2a(c.3.19);c.35(c.3.1d,c.3.1l)}});$.H(c.t,\'32\',8(a){7(c.3.1k){$.O(a);c.3.19=u.2a(c.3.19);c.3.1k=N}});m v},35:8(a,b){s c=v;7(a.x===b.x&&a.y===b.y){m c}c.3.2p=K;s w=1u.1I(a.x-b.x),h=1u.1I(a.y-b.y),36=a.y>b.y,D=c.3.E,k,9,G,2q={x:a.x<b.x?a.x:b.x,y:a.y<b.y?a.y:b.y};7(36){G=0.5}L 7(w>=h){G=u.R(c.3.C.l/w);7(h*G>c.3.C.o){G=u.R(c.3.C.o/h)}}L{G=u.R(c.3.C.o/h);7(w*G>c.3.C.l){G=u.R(c.3.C.l/w)}}D=G*c.3.E;7(D<c.3.I){D=c.3.I}L 7(D>c.3.W){D=c.3.W}G=D/c.3.E;k=(c.3.k-2q.x)*G-(w*G-c.3.C.l)/2;9=(c.3.9-2q.y)*G-(h*G-c.3.C.o)/2;c.3.k=B(k,10);c.3.9=B(9,10);m c.D(D)},D:8(a){s b=v;7(a<b.3.I){a=b.3.I}L 7(a>b.3.W){a=b.3.W}b.3.E=u.R(a);b.3.w=B(b.3.l*a,10);b.3.h=B(b.3.o*a,10);b.3.x=b.3.k+b.3.w/2;b.3.y=b.3.9+b.3.h/2;u.1J(b);m b.1E().1G()},2r:8(a,b,c){s d=v,w=B(d.r.q.l,10),h=B(d.r.q.o,10),G=$.1C(c)?c:1.1,D=d.3.E;7((!a&&D<=d.3.I)||(a&&D>=d.3.W)){m d}7(!a){G=1/G}D=u.R(w*G/d.3.l);7(D<d.3.I){D=d.3.I}L 7(D>d.3.W){D=d.3.W}w=B(d.3.l*D,10);h=B(d.3.o*D,10);7(b){s e=b.2o,13=$.1j(b);7(e.16.1O(\'P-M-r\')>=0){d.3.x-=(w-d.3.w)*(13.x-d.3.x-d.3.C.k)/d.3.w;d.3.y-=(h-d.3.h)*(13.y-d.3.y-d.3.C.9)/d.3.h}}d.3.w=w;d.3.h=h;d.3.k=d.3.x-w/2;d.3.9=d.3.y-h/2;d.3.E=D;u.1J(d);m d.1E().1G()},17:8(a){s b=v;7($.29(a)){a={x:B(b.3.w/2,10)/b.3.E,y:B(b.3.h/2,10)/b.3.E}}s x=b.3.E*a.x,y=b.3.E*a.y,w=b.3.w,h=b.3.h,37=b.3.C.l/2,38=b.3.C.o/2;s c=B(37-x,10),20=B(38-y,10);b.3.k=c;b.3.9=20;b.3.x=B(c+w/2,10);b.3.y=B(20+h/2,10);b.r.q.k=c+\'A\';b.r.q.9=20+\'A\';m b.1G()},1G:8(){m v},39:8(){s a=v;7((a.3.w+a.3.k<=0)||(a.3.h+a.3.9<=0)||(a.3.k>=a.3.C.l)||(a.3.9>=a.3.C.o)){m K}m N},2V:8(){s b=v;$.H(b.t,\'3U\',8(a){$.O(a);b.2r(a.3V<0,a)});$.H(b.t,\'1V\',8(a){$.O(a);7(b.39()){b.17()}a.1Z()});$.H(b.r,\'1V\',8(a){$.O(a);b.2r(K,a,1.25);a.1Z()});m b},2W:8(){s a=v;m a},1R:8(a,b,c){s d=v,U,1m;7(a&&(a.l||a.o)){7(a.l){d.t.q.l=a.l+\'A\'}7(a.o){d.t.q.o=a.o+\'A\'}}L 7(b){U=$.3W();1m=$.3X(c);d.t.q.l=U.l-(1m?1m.3Y:0)+\'A\';d.t.q.o=U.o-(1m?1m.3Z:0)+\'A\'}7(d.3){U=u.1K(d.t);d.3.C={l:U.l,o:U.o,k:U.k,9:U.9};s a=u.27(U.l,U.o,d.3.l,d.3.o,d.3.1T,d.3.1S);d.3.1q=a.1q;d.3.Y=a.Y;d.3.E=a.E;d.3.I=a.I}m d},34:8(p,a){m p.x>=a.k&&p.x<=a.k+a.w&&p.y>=a.9&&p.y<=a.9+a.h}};$.1f({22:8(a,b){m u.2z($.1f(a,{2k:b}))},M:8(a,b){m $.22(a,b)}})}(40);',62,249,'|||cfg|||opt|if|function|top|||||||||||left|width|return||height||style|img|var|box|Factory|this|||||px|parseInt|offset|scale|curScale||ratio|addListener|minScale|size|true|else|picbox|false|cancelBubble|oui||setRatio|margin|pointerdown|bs|let|maxScale|null|boxScale|div||magnifier|src|pos|maxZoom|document|className|center|defZoom|selection|rect|showMagnifier|scaleRatio|startpointer|id|extend|magnifierStyle|cursor|fill|getEventPos|selectdown|endpointer|ms|Cache|element|update|imgRatio|createElement|innerHTML|appendChild|Math|display|none|clientX|clientY|hideMagnifier|position|cssText|isNumber|showTitle|status|diffpointer|move|DIV|abs|setImgSize|getOffsetSize|radius|join|magnifierImg|indexOf|showScale|fullScreen|resize|minZoom|defaultZoom|title|dblclick|titlebar|nbsp|lastpointer|preventDefault|targetTop|Config|picturebox|caches|checkOptions||PictureBox|getSize|showRange|isNullOrUndefined|hideRange|checkRange|isInRange|getBoundingClientRect|border|opacity|elem|css|initial|unselect|callback|oncontextmenu|statusbar|pointermove|target|selectdrag|p0|zoom|FilePath|FileName|getCache|picbox_|setCache|loadCss|toElement|buildPictureBox|range|class|block|getPosition|break|default|zindex|index|custom|showBorder|150|IMG|picurl|defaultScale|defScale|naturalWidth|naturalHeight|filePath|select|control|drag|wheelZoom|touchZoom|addKeyListener|keyup|100|button|pointerup|pointercancel|selectonpic|onpicture|rangeScale|small|targetX|targetY|outside|use|strict|const|getScriptSelfPath|timers|loadJsScriptCss|obj|isElement|new|panel|right|bottom|10000|round|switch|case|getElementStyle|getParamCon|childNodes|push|prototype|crosshair|removeChild|overflow|hidden|relative|pic|location|href|http|crossOrigin|anonymous|absolute|padding|cleanSlash|load|getFileSize|fileSize|toFileSize|isFunction|window|getFileName|setPointerCapture|pointerId|pointerout|nodeName|wheel|deltaY|getBodySize|getMarginSize|marginWidth|marginHeight|OUI'.split('|'),0,{}))
