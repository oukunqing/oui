
/*
	@Title: OUI
	@Description：JS通用代码库
	@Author: oukunqing
	@License：MIT

	$.timebar 时间刻度
*/

eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('!9($){\'2y 2z\';6 o={21:$.2A(J),22:\'X.F.\',1D:36,1E:1};$.2B(o.21,\'\',9(){},o.22);6 p={1F:{},23:9(a){r p.1F[\'24\'+a]},25:9(a,b){p.1F[\'24\'+a]={K:a,Y:b,};r v}};6 q={26:9(a,b){6 c={};8($.2C(a)){$.1a(c,b,{A:a,K:a.K})}Z 8($.1l(a,J)){6 d=$.2D(a);$.1a(c,b,{A:d,K:a})}Z{$.1a(c,a,b)}8(!c.A){r 1G}6 e=p.23(c.K),Y;8(e){Y=e.Y}Z{Y=1H F(c);p.25(c.K,Y)}r Y},27:9(a){6 b=a.T,G=a.1f,B=1m.28(\'2E\');$.2F(G.A,\'X-F\');G.A.2G.z=b.z+\'2H\';B.1b=\'X-F-B\';G.A.29(B);$.1a(G,{B:B,L:B.2I(\'2d\')});8(b.2a){6 c=1m.28(\'2J\'),1n=b.O.1o>1?[\'<a 1p="2b"></a>\',\'<a 1p="2c"></a>\']:[];8(b.2e){1n.1I(\'<a 1p="2f"></a>\')}8(b.2g){1n.1I(\'<a 1p="2h"></a>\')}c.1b=\'X-F-2K\';c.2L=1n.2M(\'\');G.A.29(c)}r v},1J:9(a){6 b=a.1f,s=b.A.2N,z=b.A.2O;b.B.s=s;b.B.z=z;r v},2i:9(a){6 b=a.7,C=q.1c(a),P=C.H,2j=b.U.1q().V(),u=b.u,Q=q.1r(a,u),1K=1s(Q-(Q%(P*W)),10),2k=1K+P*W;9 R(){r b.U.1q().V()}r{2l:R().1g(1K).11(),2m:R().1g(2k).11(),13:R().1g(Q).11()}},1r:9(a,b){6 c=a.7,C=q.1c(a),M=C.s,P=C.H,2j=c.U.1q().V();r(b>0?-1:1)*1h.1i(b)*(P/M*W)},1t:9(a){6 b=a.7,C=q.1c(a),M=C.s,P=C.H,Q=b.13.1L(b.U).1M,u=Q/(P/M*W);b.u=-u;r v},1N:9(a){6 b=a.7,I=a.T,C=q.1c(a);8($.1j(I.14)){6 c=1h.1i(I.14.1L(b.U).1M)/C.Q;8(b.u<0&&b.u<-c){b.u=-c}b.1O=c}8($.1j(I.15)){6 d=1h.1i(I.15.1L(b.U).1M)/C.Q;8(b.u>0&&b.u>d){b.u=d}b.1P=d}r v},S:9(h,j){6 k=h.1f,I=h.T,B=k.B,L=k.L,s=B.s,z=B.z,E=1s(s/2,10),7=h.7,N=7.N,C=q.1c(h),M=C.s,P=C.H,17=0,1k=0;q.1N(h);6 l=7.u,1Q=1h.1i(l)<=E?3:l<0?1:2;L.2P(0,0,s,z);1u(L,\'#2Q\',2,0,s,z-N,z-N);1u(L,\'#2R\',2,E,E,0,z);6 m=R();8(1Q%2>0){6 w=7.1O&&!I.2n?7.1O+7.u+1:E;8(w>E){w=E}17=1h.1i(l)+w;1k=1s(17/M,10)+(17%M?1:0);1R(1k,0)}m=R();8(1Q>1){6 w=7.1P&&!I.2o?7.1P-7.u+1:E;8(w>E){w=E}17=l+w;1k=1s(17/M,10)+(17%M?1:0);1R(1k,1)}6 n=q.1r(h,l);7.13=R().1g(n);1v(L,7.13.11(),\'2S 1S\',\'#2T\',E,z-N-16);8(j){m=R();n=q.1r(h,-((j-7.u)-(s/2)));1v(L,m.1g(n).11(),\'2p 1S\',\'#2U\',j,12)}9 R(){r 7.U.11().V()}9 1u(a,b,c,d,e,f,g){a.2V();a.2W(d,f);a.2X(e,g);a.2Y=b;a.2Z=c;a.31()}9 1v(a,b,c,d,x,y){a.32=c;a.33=d;a.34=\'E\';a.35(b,x,y)}9 1R(a,b){2q(6 i=0;i<a;i++){6 x=(b?-1:1)*(i*M)+(E+l);1u(L,\'#37\',1,x,x,z-N+1,z);m.38((b?-1:1)*(i?1:0)*P);1v(L,m.11(\'39:3a\'),\'2p 1S\',\'#3b\',x,z-N-4)}}r v.1d(h)},1d:9(a){6 b=v,I=a.T,7=a.7;8($.3c(I.1d)){6 c=$.3d(q.2i(a));8(c===7.1T){r b}7.1T=c;$.3e({K:\'X-F\'+a.K,3f:3g,3h:3i},9(){I.1d(c,a)})}r b},1c:9(a){6 b=a.T.O,1e=b.1o,D=a.7.1w;D=D<0?0:D>=1e?1e-1:D;r b[D]},1U:9(a,b){6 c=a.7,1e=a.T.O.1o,D=c.1w+b;D=D<0?0:D>=1e?1e-1:D;c.1w=D;r v.1t(a).S(a)},1V:9(a,b){6 c=a.7;8(b){c.13=1H 2r()}Z{c.13=c.2s}r v.1t(a).S(a)},2t:9(b){6 c=$.1a({z:W,N:20,18:1H 2r(),O:[[19,19],[19,W],[19,30],[2u,30],[19,10],[19,5],[2u,5]],D:1,1d:9(a,t){3j.3k(\'F-1d:\',a,t)},15:1G,14:1G,2o:J,2n:J,2a:J,2e:1x,2g:1x},b);8(!$.1j(c.18)){c.18=c.18.1q().V()}8(!$.1j(c.15)&&$.1l(c.15,J)){c.15=c.15.V()}8(!$.1j(c.14)&&$.1l(c.14,J)){c.14=c.14.V()}8(!$.2v(c.O)){c.O=[{s:19,H:W}]}6 e=[];2q(6 i=0;i<c.O.1o;i++){6 f=c.O[i],d;8($.2v(f)){d={s:f[0],H:f[1]}}Z 8($.3l(f)&&f.s&&f.H){d=f}Z 8($.1l(f,J)){6 g=f.3m(/[,|;]/);d={s:g[0],H:g[1]}}8(d.s<o.1D){d.s=o.1D}8(d.H<o.1E){d.H=o.1E}d.Q=d.H/d.s*W;e.1I(d)}c.O=e;r c}};9 F(a){6 b=q.2t(a);v.T=b;v.K=v.T.K;v.1f={A:b.A};v.7={U:b.18.3n().V(),2s:b.18,13:b.18,u:0,1y:1x,1z:0,2l:\'\',2m:\'\',N:b.N,1w:b.D,1T:\'\'};v.2w()}F.3o={2w:9(){6 b=v,7=b.7,G=b.1f;q.27(b).1J(b).1t(b).S(b);$.1W(3p,\'3q\',9(){q.1J(b).S(b)});$.1W(G.A,\'3r\',9(e){$.3s(e);6 a=e.1A,1X=a.1b;3t(1X){1B\'2c\':q.1U(b,1);1C;1B\'2b\':q.1U(b,-1);1C;1B\'2f\':q.1V(b);1C;1B\'2h\':q.1V(b,1);1C}});$.1W(G.A,\'3u\',9(e){6 a=e.1A,1X=a.1b;8(e.1A.1b.2x(\'X-F\')<0){r J}7.1y=J;7.1z=e.1Y;q.S(b)});1m.1Z(\'3v\',(e)=>{8(7.1y){6 c=e.1Y-7.1z;7.u+=c;7.1z=e.1Y;q.1N(b).S(b)}Z 8(e.1A.1b.2x(\'X-F\')>-1){q.S(b,e.3w-G.A.3x)}});G.B.1Z(\'3y\',()=>{q.S(b)});1m.1Z(\'3z\',()=>{7.1y=1x});r b}};$.1a({F:9(a,b){r q.26(a,b)}})}(3A);',62,223,'||||||var|cache|if|function||||||||||||||||||return|width||offset|this||||height|box|canvas|rule|level|center|timebar|obj|minutes|opt|true|id|ctx|tickWidth|tickHeight|rules|tickMinutes|seconds|_dt|drawScale|options|defaultTime|toDate|60|oui|ts|else||format||currentTime|maxTime|minTime||scaleWidth|time|120|extend|className|getRule|callback|len|elements|addSeconds|Math|abs|isDate|tickCount|isString|document|html|length|class|toString|getTimeOffset|parseInt|setOffset|_drawline|_drawtext|ruleLevel|false|dragging|lastX|target|case|break|MinTickWidth|MinTickMinutes|caches|null|new|push|setSize|start|timeSpan|totalSeconds|checkOffsetLimit|leftMaxOffset|rightMaxOffset|mode|_drawscale|Arial|range|setRuleLevel|resetOffset|addListener|css|offsetX|addEventListener||FilePath|FileName|getCache|ts_|setCache|buildtimebar|buildElement|createElement|appendChild|showPanel|sub|add||showOrigin|ori|showReload|rel|getTimeRange|dt|end|startTime|endTime|showRight|showLeft|12px|for|Date|originTime|checkOptions|240|isArray|initial|indexOf|use|strict|getScriptSelfPath|loadJsScriptCss|isElement|toElement|CANVAS|addClass|style|px|getContext|DIV|bar|innerHTML|join|offsetWidth|offsetHeight|clearRect|555|fc0|14px|ccc|ddd|beginPath|moveTo|lineTo|strokeStyle|lineWidth||stroke|font|fillStyle|textAlign|fillText||999|addMinutes|HH|mm|aaa|isFunction|toJsonString|debounce|delay|100|timeout|5000|console|log|isObject|split|dayStart|prototype|window|resize|click|cancelBubble|switch|mousedown|mousemove|clientX|offsetLeft|mouseout|mouseup|OUI'.split('|'),0,{}))
